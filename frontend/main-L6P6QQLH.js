import{j as ee,k as te}from"./chunk-DHZXEKVC.js";import{b as ne,c as oe,d as ie,e as re,f as ae,g as le,l as ce,m as se}from"./chunk-GYTVZZCD.js";import{a as U}from"./chunk-VZ4JMOFJ.js";import{$ as h,Aa as X,Ba as Z,C as a,Ca as $,Ea as y,F as u,G as C,K as g,O as d,P as i,Q as r,R as m,S as I,T as s,U as f,X as D,Y as E,Z as l,_,aa as q,ca as R,da as H,ea as Y,m as W,oa as G,pa as x,q as O,r as b,s as v,sa as M,ta as K,va as J,w as S,wa as Q,ya as L,za as w}from"./chunk-DLZENSHA.js";var de=(n,o)=>{let t=O(y).getToken();if(t){let c=n.clone({setHeaders:{Authorization:`Bearer ${t}`}});return o(c)}return o(n)};var P=class n{THEME_KEY="atlas-theme";isDarkMode=S(this.getInitialTheme());constructor(){this.applyTheme(this.isDarkMode())}toggleTheme(){this.isDarkMode.update(o=>!o),this.applyTheme(this.isDarkMode()),localStorage.setItem(this.THEME_KEY,this.isDarkMode()?"dark":"light")}applyTheme(o){o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}getInitialTheme(){let o=localStorage.getItem(this.THEME_KEY);return o?o==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(e){return new(e||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function be(n,o){if(n&1&&(i(0,"div",13),l(1),r()),n&2){let e=f();a(),h(" ",e.errorMessage()," ")}}var A=class n{constructor(o,e,t){this.authService=o;this.themeService=e;this.router=t}username="";password="";isLoading=S(!1);errorMessage=S("");onSubmit(){!this.username||!this.password||(this.isLoading.set(!0),this.errorMessage.set(""),this.authService.login({username:this.username,password:this.password}).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:o=>{this.isLoading.set(!1),this.errorMessage.set(o.error?.message||"Error al iniciar sesi\xF3n. Int\xE9ntalo de nuevo.")}}))}static \u0275fac=function(e){return new(e||n)(u(y),u(P),u(w))};static \u0275cmp=C({type:n,selectors:[["app-login"]],decls:26,vars:7,consts:[[1,"login-container"],[1,"login-card","glass"],[1,"logo"],[1,"atlas-text"],[1,"media-text"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","atlas","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary",3,"disabled"],["class","error-msg",4,"ngIf"],[1,"theme-toggle"],[1,"btn-ghost",3,"click"],[1,"error-msg"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),l(4,"ATLAS"),r(),i(5,"span",4),l(6,"MEDIA SERVER"),r()(),i(7,"h2"),l(8,"Bienvenido"),r(),i(9,"p"),l(10,"Ingresa tus credenciales para continuar"),r(),i(11,"form",5),s("ngSubmit",function(){return t.onSubmit()}),i(12,"div",6)(13,"label"),l(14,"Usuario"),r(),i(15,"input",7),Y("ngModelChange",function(p){return H(t.username,p)||(t.username=p),p}),r()(),i(16,"div",6)(17,"label"),l(18,"Contrase\xF1a"),r(),i(19,"input",8),Y("ngModelChange",function(p){return H(t.password,p)||(t.password=p),p}),r()(),i(20,"button",9),l(21),r(),g(22,be,2,1,"div",10),r(),i(23,"div",11)(24,"button",12),s("click",function(){return t.themeService.toggleTheme()}),l(25),r()()()()),e&2&&(a(15),R("ngModel",t.username),a(4),R("ngModel",t.password),a(),d("disabled",t.isLoading()),a(),h(" ",t.isLoading()?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "),a(),d("ngIf",t.errorMessage()),a(3),q(" ",t.themeService.isDarkMode()?"\u{1F319}":"\u2600\uFE0F"," Modo ",t.themeService.isDarkMode()?"Oscuro":"Claro"," "))},dependencies:[M,x,se,le,ne,oe,ie,ce,ae,re],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top right,var(--primary),transparent 40%),radial-gradient(circle at bottom left,var(--info),transparent 40%)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2.5rem;border-radius:24px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.logo[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;flex-direction:column;line-height:1}.atlas-text[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;letter-spacing:-1px;background:linear-gradient(to right,var(--primary),var(--info));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.media-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;letter-spacing:4px;margin-top:.5rem}h2[_ngcontent-%COMP%]{margin-bottom:.5rem}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:.9rem}.form-group[_ngcontent-%COMP%]{text-align:left;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border-radius:12px;border:1px solid var(--border);background:var(--surface);color:var(--text);font-size:1rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px #6366f11a}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;font-weight:600;margin-top:1rem;font-size:1rem}.error-msg[_ngcontent-%COMP%]{margin-top:1rem;color:var(--danger);font-size:.85rem;background:#ef44441a;padding:.75rem;border-radius:8px}.theme-toggle[_ngcontent-%COMP%]{margin-top:2rem}.theme-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:var(--text-muted);font-size:.85rem}.theme-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--text)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function Ce(n,o){if(n&1){let e=I();i(0,"div",1),s("click",function(){b(e);let c=f();return v(c.dialog.close(!1))}),i(1,"div",2),s("click",function(c){return b(e),v(c.stopPropagation())}),i(2,"div",3)(3,"h3"),l(4),r()(),i(5,"div",4)(6,"p"),l(7),r()(),i(8,"div",5)(9,"button",6),s("click",function(){b(e);let c=f();return v(c.dialog.close(!1))}),l(10),r(),i(11,"button",7),s("click",function(){b(e);let c=f();return v(c.dialog.close(!0))}),l(12),r()()()()}if(n&2){let e=o.ngIf;a(4),_(e.config.title),a(3),_(e.config.message),a(3),h(" ",e.config.cancelText," "),a(),E("btn-"+e.config.type),a(),h(" ",e.config.confirmText," ")}}var j=class n{constructor(o){this.dialog=o}static \u0275fac=function(e){return new(e||n)(u(U))};static \u0275cmp=C({type:n,selectors:[["app-confirm-dialog"]],decls:1,vars:1,consts:[["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-box","glass",3,"click"],[1,"dialog-header"],[1,"dialog-body"],[1,"dialog-footer"],[1,"btn-cancel",3,"click"],[3,"click"]],template:function(e,t){e&1&&g(0,Ce,13,6,"div",0),e&2&&d("ngIf",t.dialog.state())},dependencies:[M,x],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.dialog-box[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:2rem;border-radius:20px;display:flex;flex-direction:column;gap:1.5rem;box-shadow:0 20px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);background:var(--surface);border:1px solid var(--border)}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:var(--text);display:flex;align-items:center;gap:.75rem}.dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);line-height:1.5;font-size:.9rem}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:.5rem;padding-top:1rem;border-top:1px solid var(--border)}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;border:none}.btn-cancel[_ngcontent-%COMP%]{background:var(--surface);color:var(--text-muted);border:1px solid var(--border)}.btn-cancel[_ngcontent-%COMP%]:hover{background:var(--border);color:var(--text)}.btn-primary[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px #6366f14d}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 12px #ef44444d}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d97706;transform:translateY(-1px);box-shadow:0 4px 12px #f59e0b4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dark[_ngcontent-%COMP%]   .dialog-box[_ngcontent-%COMP%]{background:#111827;border-color:#1f2937}"]})};function he(n,o){if(n&1&&(i(0,"p",13),l(1," URLs de salida disponibles para "),i(2,"strong"),l(3),r(),l(4,": "),r()),n&2){let e=f().ngIf;a(3),_(e.config.channelName)}}function xe(n,o){n&1&&(i(0,"p",13),l(1," URLs de salida disponibles: "),r())}function Me(n,o){if(n&1){let e=I();i(0,"div",14)(1,"div",15)(2,"span",16),l(3),r(),i(4,"span",17),l(5),r()(),i(6,"div",18)(7,"code",19),l(8),r(),i(9,"button",20),s("click",function(c){let p=b(e).$implicit,k=f(2);return v(k.copyUrl(p.fullUrl,c))}),m(10,"i",21),r()()()}if(n&2){let e=o.$implicit,t=o.index,c=f(2);a(2),E(c.getTypeClass(e.type)),a(),_(e.type),a(2),h("#",t+1),a(3),_(e.fullUrl)}}function ye(n,o){if(n&1){let e=I();i(0,"div",1),s("click",function(){b(e);let c=f();return v(c.dialog.closeUrlsDialog())}),i(1,"div",2),s("click",function(c){return b(e),v(c.stopPropagation())}),i(2,"div",3)(3,"h3"),m(4,"i",4),l(5),r()(),i(6,"div",5),g(7,he,5,1,"p",6)(8,xe,2,0,"p",6),i(9,"div",7),g(10,Me,11,5,"div",8),r()(),i(11,"div",9)(12,"button",10),s("click",function(){let c=b(e).ngIf,p=f();return v(p.copyAllUrls(c.config.urls))}),m(13,"i",11),l(14," Copiar todas las URLs "),r(),i(15,"button",12),s("click",function(){b(e);let c=f();return v(c.dialog.closeUrlsDialog())}),l(16," Cerrar "),r()()()()}if(n&2){let e=o.ngIf;a(5),h(" ",e.config.title),a(2),d("ngIf",e.config.channelName),a(),d("ngIf",!e.config.channelName),a(2),d("ngForOf",e.config.urls)}}var N=class n{constructor(o){this.dialog=o}getTypeClass(o){return o.toLowerCase()}copyUrl(o,e){e.stopPropagation(),navigator.clipboard.writeText(o).then(()=>{let t=e.currentTarget,c=t.innerHTML;t.innerHTML='<i class="fa-solid fa-check"></i>',setTimeout(()=>{t.innerHTML=c},2e3)})}copyAllUrls(o){let e=o.map(t=>t.fullUrl).join(`
`);navigator.clipboard.writeText(e).then(()=>{let t=document.querySelector(".btn-copy-all");if(t){let c=t.innerHTML;t.innerHTML='<i class="fa-solid fa-check"></i> Copiado!',setTimeout(()=>{t.innerHTML=c},2e3)}})}static \u0275fac=function(e){return new(e||n)(u(U))};static \u0275cmp=C({type:n,selectors:[["app-urls-dialog"]],decls:1,vars:1,consts:[["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-box","glass",3,"click"],[1,"dialog-header"],[1,"fa-solid","fa-link"],[1,"dialog-body"],["class","dialog-description",4,"ngIf"],[1,"urls-list"],["class","url-item",4,"ngFor","ngForOf"],[1,"dialog-footer"],[1,"btn-copy-all",3,"click"],[1,"fa-solid","fa-copy"],[1,"btn-close",3,"click"],[1,"dialog-description"],[1,"url-item"],[1,"url-header"],[1,"url-type-badge"],[1,"url-number"],[1,"url-content"],[1,"url-text"],["title","Copiar URL",1,"copy-url-btn",3,"click"],[1,"fa-regular","fa-copy"]],template:function(e,t){e&1&&g(0,ye,17,4,"div",0),e&2&&d("ngIf",t.dialog.urlsDialog())},dependencies:[M,G,x],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.dialog-box[_ngcontent-%COMP%]{width:90%;max-width:600px;max-height:80vh;padding:2rem;border-radius:20px;display:flex;flex-direction:column;gap:1.5rem;box-shadow:0 20px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);background:var(--surface);border:1px solid var(--border)}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:var(--text);display:flex;align-items:center;gap:.75rem}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent)}.dialog-body[_ngcontent-%COMP%]{overflow-y:auto;flex:1;min-height:0}.dialog-description[_ngcontent-%COMP%]{margin:0 0 1.25rem;color:var(--text-muted);line-height:1.5;font-size:.9rem}.dialog-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.urls-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.url-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem;transition:all .2s}.url-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.url-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.url-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:6px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.url-type-badge.hls[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.url-type-badge.udp[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.url-type-badge.dvb[_ngcontent-%COMP%]{background:#e9d5ff;color:#6b21a8}.url-type-badge.file[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.url-number[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);font-weight:600}.url-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.url-text[_ngcontent-%COMP%]{flex:1;font-family:JetBrains Mono,monospace;font-size:.85rem;color:#1e293b;background:#fff;padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;word-break:break-all;line-height:1.5}.copy-url-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;padding:.5rem .75rem;border-radius:8px;color:#64748b;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.copy-url-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;color:#1e293b}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem;padding-top:1rem;border-top:1px solid var(--border)}.btn-copy-all[_ngcontent-%COMP%]{background:#6366f1;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem}.btn-copy-all[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px #6366f14d}.btn-close[_ngcontent-%COMP%]{background:var(--surface);color:var(--text-muted);border:1px solid var(--border);padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s}.btn-close[_ngcontent-%COMP%]:hover{background:var(--border);color:var(--text)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dark[_ngcontent-%COMP%]   .dialog-box[_ngcontent-%COMP%]{background:#111827;border-color:#1f2937}.dark[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]:hover{background:#374151}.dark[_ngcontent-%COMP%]   .url-text[_ngcontent-%COMP%]{background:#0f172a;color:#e2e8f0;border-color:#374151}.dark[_ngcontent-%COMP%]   .copy-url-btn[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#94a3b8}.dark[_ngcontent-%COMP%]   .copy-url-btn[_ngcontent-%COMP%]:hover{background:#374151;color:#fff}"]})};function Pe(n,o){n&1&&m(0,"img",38)}function Oe(n,o){n&1&&m(0,"img",39)}function ke(n,o){n&1&&(i(0,"span",40),l(1,"Dashboard"),r())}function we(n,o){n&1&&(i(0,"span",40),l(1,"Canales"),r())}function Se(n,o){n&1&&(i(0,"span",40),l(1,"Usuarios"),r())}function Ie(n,o){n&1&&(i(0,"span"),l(1,"Colapsar"),r())}var V=class n{constructor(o,e,t){this.authService=o;this.themeService=e;this.router=t}isSidebarCollapsed=!1;toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}getPageTitle(){let o=this.router.url;return o.includes("dashboard")?"Dashboard":o.includes("channels/new")?"Nuevo Canal":o.includes("channels/")?"Detalles del Canal":o.includes("channels")?"Canales":o.includes("users")?"Usuarios":o.includes("settings")?"Configuraci\xF3n":"Panel de Control"}static \u0275fac=function(e){return new(e||n)(u(y),u(P),u(w))};static \u0275cmp=C({type:n,selectors:[["app-main-layout"]],decls:50,vars:20,consts:[[1,"layout-wrapper"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo"],["src","/atlas_logo.svg","alt","Atlas Logo","class","logo-img logo-full",4,"ngIf"],["src","/atlas_isot.svg","alt","Atlas","class","logo-img logo-icon",4,"ngIf"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-chart-line","icon"],["class","label",4,"ngIf"],["routerLink","/channels","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-satellite-dish","icon"],["routerLink","/users","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-users","icon"],[1,"sidebar-footer"],[1,"collapse-btn",3,"click"],[1,"fa-solid","icon"],[4,"ngIf"],[1,"main-content"],[1,"topbar"],[1,"topbar-left"],[1,"breadcrumbs"],[1,"muted"],[1,"separator"],[1,"current"],[1,"topbar-right"],[1,"icon-btn",3,"click"],[1,"fa-solid"],["title","Cerrar Sesi\xF3n",1,"icon-btn","logout",3,"click"],[1,"fa-solid","fa-power-off"],[1,"user-profile"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"avatar-wrapper"],[1,"avatar"],[1,"chevron"],[1,"content-view"],["src","/atlas_logo.svg","alt","Atlas Logo",1,"logo-img","logo-full"],["src","/atlas_isot.svg","alt","Atlas",1,"logo-img","logo-icon"],[1,"label"]],template:function(e,t){if(e&1&&(i(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),g(4,Pe,1,0,"img",4)(5,Oe,1,0,"img",5),r()(),i(6,"nav",6)(7,"a",7),m(8,"i",8),g(9,ke,2,0,"span",9),r(),i(10,"a",10),m(11,"i",11),g(12,we,2,0,"span",9),r(),i(13,"a",12),m(14,"i",13),g(15,Se,2,0,"span",9),r()(),i(16,"div",14)(17,"button",15),s("click",function(){return t.toggleSidebar()}),m(18,"i",16),g(19,Ie,2,0,"span",17),r()()(),i(20,"main",18)(21,"header",19)(22,"div",20)(23,"div",21)(24,"span",22),l(25,"Atlas"),r(),i(26,"span",23),l(27,"/"),r(),i(28,"span",24),l(29),r()()(),i(30,"div",25)(31,"button",26),s("click",function(){return t.themeService.toggleTheme()}),m(32,"i",27),r(),i(33,"button",28),s("click",function(){return t.authService.logout()}),m(34,"i",29),r(),i(35,"div",30)(36,"div",31)(37,"span",32),l(38),r(),i(39,"span",33),l(40),r()(),i(41,"div",34)(42,"div",35),l(43),r(),i(44,"span",36),l(45,"\u25BE"),r()()()()(),i(46,"div",37),m(47,"router-outlet"),r()(),m(48,"app-confirm-dialog")(49,"app-urls-dialog"),r()),e&2){let c,p,k;a(),D("collapsed",t.isSidebarCollapsed),a(3),d("ngIf",!t.isSidebarCollapsed),a(),d("ngIf",t.isSidebarCollapsed),a(4),d("ngIf",!t.isSidebarCollapsed),a(3),d("ngIf",!t.isSidebarCollapsed),a(3),d("ngIf",!t.isSidebarCollapsed),a(3),D("fa-angles-left",!t.isSidebarCollapsed)("fa-angles-right",t.isSidebarCollapsed),a(),d("ngIf",!t.isSidebarCollapsed),a(10),_(t.getPageTitle()),a(3),D("fa-moon",!t.themeService.isDarkMode())("fa-sun",t.themeService.isDarkMode()),a(6),_((c=t.authService.currentUser())==null?null:c.username),a(2),_(((p=t.authService.currentUser())==null?null:p.role)||"Admin"),a(3),_((k=t.authService.currentUser())==null||k.username==null||k.username[0]==null?null:k.username[0].toUpperCase())}},dependencies:[M,x,L,X,Z,j,N],styles:[".layout-wrapper[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:260px;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;transition:width .3s ease;z-index:100}.sidebar.collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;font-weight:700;color:var(--primary);padding-left:.5rem;width:100%}.logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:auto;max-width:100%;transition:opacity .3s ease;object-fit:contain}.logo[_ngcontent-%COMP%]   .logo-img.logo-full[_ngcontent-%COMP%]{height:35px;width:auto;max-width:140px}.logo[_ngcontent-%COMP%]   .logo-img.logo-icon[_ngcontent-%COMP%]{height:35px;width:auto;max-width:50px}.sidebar.collapsed[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding-left:0;justify-content:center}.dark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{filter:brightness(1.3) contrast(1.1)}.collapse-btn[_ngcontent-%COMP%]{background:transparent;color:var(--text-muted);font-size:1rem;display:flex;align-items:center;gap:.5rem}.collapse-btn[_ngcontent-%COMP%]:hover{color:var(--text)}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1.5rem 1rem;display:flex;flex-direction:column;gap:.25rem}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.85rem 1.25rem;color:#64748b;text-decoration:none;border-radius:12px;transition:all .2s ease;font-weight:500;font-size:.95rem}.nav-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;font-size:1.1rem;display:flex;align-items:center;justify-content:center;opacity:.7}.nav-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-item.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#0f172a;font-weight:600}.nav-item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#1e293b;color:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border)}.btn-logout[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.75rem;background:transparent;color:var(--danger);font-weight:500}.btn-logout[_ngcontent-%COMP%]:hover{background:#ef44441a}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:var(--bg)}.topbar[_ngcontent-%COMP%]{height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 2rem;background:var(--surface);border-bottom:1px solid var(--border)}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;font-weight:500}.breadcrumbs[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--text-muted)}.breadcrumbs[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.breadcrumbs[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#cbd5e1}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:var(--text-muted);border-radius:8px;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:var(--bg);color:var(--text)}.icon-btn.logout[_ngcontent-%COMP%]{color:var(--danger)}.icon-btn.logout[_ngcontent-%COMP%]:hover{background:#ef44441a}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding-left:.5rem;cursor:pointer}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;line-height:1.2}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);font-weight:500}.user-profile[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:#ffedd5;color:#ea580c;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem}.user-profile[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.content-view[_ngcontent-%COMP%]{flex:1;padding:2.5rem 3rem;overflow-y:auto;max-width:1600px;width:100%;margin:0 auto}"]})};var pe=(n,o)=>{let e=O(y),t=O(w);return e.isAuthenticated()?!0:(t.navigate(["/auth/login"]),!1)};var ge=[{path:"auth/login",component:A},{path:"",component:V,canActivate:[pe],children:[{path:"dashboard",loadComponent:()=>import("./chunk-54YIDGEW.js").then(n=>n.DashboardComponent)},{path:"channels",loadComponent:()=>import("./chunk-P5XMQYUJ.js").then(n=>n.ChannelListComponent)},{path:"channels/:id",loadComponent:()=>import("./chunk-NIS5PZA4.js").then(n=>n.ChannelDetailComponent)},{path:"users",loadComponent:()=>import("./chunk-GALR2J3A.js").then(n=>n.UserListComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"**",redirectTo:"dashboard"}];var fe={providers:[$(ge),J(Q([de])),te(ee())]};var F=class n{themeService=O(P);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&m(0,"router-outlet")},dependencies:[L],encapsulation:2})};K(F,fe).catch(n=>console.error(n));
