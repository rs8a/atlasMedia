import{a as ve}from"./chunk-U5I4M4OB.js";import{a as fe}from"./chunk-XGPTB53O.js";import{a as Ce}from"./chunk-YJGBTHYN.js";import{a as le,b as se,c as ce,f as de,h as pe,i as me,j as ge,k as ue,m as _e}from"./chunk-O3S2I4IV.js";import{$ as P,Ba as oe,C as s,Da as ae,G as K,Ha as re,K as u,O as d,P as n,Q as i,R as _,S as v,T as C,U as p,V as H,X as y,Y as F,Z as a,_ as f,a as w,b as I,c as L,ca as Z,da as X,ea as h,fa as x,ga as b,ja as D,la as T,ma as J,na as N,q as A,r as m,ra as $,s as g,sa as ee,ua as te,va as ne,w as S,wa as ie,x as W}from"./chunk-ZDDN4IUL.js";function be(r,t){if(r&1){let e=v();n(0,"div",42),_(1,"i",43),n(2,"span"),a(3),i(),n(4,"button",44),C("click",function(){m(e);let o=p();return g(o.errorMessage.set(null))}),a(5,"\xD7"),i()()}if(r&2){let e=p();s(3),f(e.errorMessage())}}function Me(r,t){if(r&1){let e=v();n(0,"div",45),_(1,"i",46),n(2,"span"),a(3),i(),n(4,"button",44),C("click",function(){m(e);let o=p();return g(o.successMessage.set(null))}),a(5,"\xD7"),i()()}if(r&2){let e=p();s(3),f(e.successMessage())}}function Se(r,t){if(r&1){let e=v();n(0,"button",21),C("click",function(){m(e);let o=p();return g(o.basicInfoTab="stats")}),_(1,"i",47),a(2," Estad\xEDsticas en Tiempo Real "),i()}if(r&2){let e=p();y("active",e.basicInfoTab==="stats")}}function ye(r,t){if(r&1&&(n(0,"span",58),a(1),i()),r&2){let e=p(2);s(),f(e.validationErrors().name)}}function Pe(r,t){if(r&1&&(n(0,"span",58),a(1),i()),r&2){let e=p(2);s(),f(e.validationErrors().input_url)}}function Oe(r,t){if(r&1){let e=v();n(0,"div",48)(1,"div",49)(2,"label"),a(3,"Nombre *"),i(),n(4,"input",50),b("ngModelChange",function(o){m(e);let c=p();return x(c.model.name,o)||(c.model.name=o),g(o)}),C("ngModelChange",function(o){m(e);let c=p();return g(c.onNameChange(o))}),i(),u(5,ye,2,1,"span",51),i(),n(6,"div",52)(7,"label"),a(8,"URL de Entrada / Stream *"),i(),n(9,"input",53),b("ngModelChange",function(o){m(e);let c=p();return x(c.model.input_url,o)||(c.model.input_url=o),g(o)}),i(),u(10,Pe,2,1,"span",51),i(),n(11,"div",54)(12,"label",55)(13,"input",56),b("ngModelChange",function(o){m(e);let c=p();return x(c.model.auto_restart,o)||(c.model.auto_restart=o),g(o)}),i(),_(14,"span",57),a(15," Canal activo (reinicio autom\xE1tico) "),i()()()}if(r&2){let e=p();s(),y("has-error",e.validationErrors().name),s(3),h("ngModel",e.model.name),d("disabled",e.currentStatus()==="running"),s(),d("ngIf",e.validationErrors().name),s(),y("has-error",e.validationErrors().input_url),s(3),h("ngModel",e.model.input_url),d("disabled",e.currentStatus()==="running"),s(),d("ngIf",e.validationErrors().input_url),s(3),h("ngModel",e.model.auto_restart),d("disabled",e.currentStatus()==="running")}}function we(r,t){if(r&1&&(n(0,"div",62)(1,"h4",63),_(2,"i",64),a(3," Estad\xEDsticas de FFmpeg "),i(),n(4,"div",65)(5,"div",66)(6,"span",67),a(7,"Frame"),i(),n(8,"span",68),a(9),i()(),n(10,"div",66)(11,"span",67),a(12,"FPS"),i(),n(13,"span",68),a(14),D(15,"number"),i()(),n(16,"div",66)(17,"span",67),a(18,"Tiempo"),i(),n(19,"span",68),a(20),i()(),n(21,"div",66)(22,"span",67),a(23,"Bitrate Total"),i(),n(24,"span",68),a(25),i()(),n(26,"div",66)(27,"span",67),a(28,"Velocidad"),i(),n(29,"span",68),a(30),D(31,"number"),i()(),n(32,"div",69)(33,"span",67),a(34,"\xDAltima Actualizaci\xF3n"),i(),n(35,"span",68),a(36),D(37,"date"),i()()()()),r&2){let e=p().ngIf;s(9),f(e.process.ffmpegStats.frame||"---"),s(5),f(e.process.ffmpegStats.fps?T(15,6,e.process.ffmpegStats.fps,"1.2-2"):"---"),s(6),f(e.process.ffmpegStats.timeFormatted||"---"),s(5),f(e.process.ffmpegStats.bitrateFormatted||"---"),s(5),f(e.process.ffmpegStats.speed?T(31,9,e.process.ffmpegStats.speed,"1.2-2")+"x":"---"),s(6),f(e.process.ffmpegStats.timestamp?T(37,12,e.process.ffmpegStats.timestamp,"short"):"---")}}function Ee(r,t){if(r&1&&(n(0,"div",62)(1,"h4",63),_(2,"i",70),a(3," Informaci\xF3n del Sistema "),i(),n(4,"div",65)(5,"div",66)(6,"span",67),a(7,"PID"),i(),n(8,"span",68),a(9),i()(),n(10,"div",66)(11,"span",67),a(12,"Tiempo Transcurrido"),i(),n(13,"span",68),a(14),i()(),n(15,"div",66)(16,"span",67),a(17,"CPU"),i(),n(18,"span",71),a(19),D(20,"number"),i()(),n(21,"div",66)(22,"span",67),a(23,"Memoria"),i(),n(24,"span",72),a(25),D(26,"number"),i()(),n(27,"div",69)(28,"span",67),a(29,"Comando"),i(),n(30,"code",73),a(31),i()()()()),r&2){let e=p().ngIf;s(9),f(e.process.systemInfo.pid||"---"),s(5),f(e.process.systemInfo.elapsedTime||"---"),s(5),f(e.process.systemInfo.cpuPercent?T(20,5,e.process.systemInfo.cpuPercent,"1.1-1")+"%":"---"),s(6),f(e.process.systemInfo.memoryPercent?T(26,8,e.process.systemInfo.memoryPercent,"1.1-1")+"%":"---"),s(6),f(e.process.systemInfo.command||"---")}}function ke(r,t){if(r&1&&(n(0,"div",62)(1,"h4",63),_(2,"i",74),a(3," Red "),i(),n(4,"div",65)(5,"div",66)(6,"span",67),a(7,"Bytes Recibidos"),i(),n(8,"span",68),a(9),i()(),n(10,"div",66)(11,"span",67),a(12,"Bytes Enviados"),i(),n(13,"span",68),a(14),i()(),n(15,"div",66)(16,"span",67),a(17,"Total Bytes"),i(),n(18,"span",68),a(19),i()(),n(20,"div",66)(21,"span",67),a(22,"Velocidad Descarga"),i(),n(23,"span",75),a(24),i()(),n(25,"div",66)(26,"span",67),a(27,"Velocidad Subida"),i(),n(28,"span",76),a(29),i()(),n(30,"div",66)(31,"span",67),a(32,"Conexiones Activas"),i(),n(33,"span",68),a(34),i()()()()),r&2){let e=p().ngIf;s(9),f(e.process.systemInfo.network.rxBytesFormatted||"---"),s(5),f(e.process.systemInfo.network.txBytesFormatted||"---"),s(5),f(e.process.systemInfo.network.totalBytesFormatted||"---"),s(5),f(e.process.systemInfo.network.rxRate||"---"),s(5),f(e.process.systemInfo.network.txRate||"---"),s(5),f(e.process.systemInfo.network.activeConnections||"---")}}function Ie(r,t){if(r&1&&(n(0,"div",62)(1,"h4",63),_(2,"i",77),a(3," Informaci\xF3n del Canal "),i(),n(4,"div",65)(5,"div",66)(6,"span",67),a(7,"Estado"),i(),n(8,"span",68),a(9),i()(),n(10,"div",66)(11,"span",67),a(12,"PID"),i(),n(13,"span",68),a(14),i()(),n(15,"div",66)(16,"span",67),a(17,"Auto Reinicio"),i(),n(18,"span",68),a(19),i()(),n(20,"div",69)(21,"span",67),a(22,"URL de Entrada"),i(),n(23,"code",68),a(24),i()()()()),r&2){let e=p().ngIf;s(8),F(e.channel.status),s(),P(" ",e.channel.status==="running"?"En Ejecuci\xF3n":e.channel.status==="stopped"?"Detenido":e.channel.status==="restarting"?"Reiniciando":e.channel.status==="error"?"Error":"Desconocido"," "),s(5),f(e.channel.pid||"---"),s(5),f(e.channel.auto_restart?"S\xED":"No"),s(5),f(e.channel.input_url||"---")}}function De(r,t){if(r&1&&(n(0,"div"),u(1,we,38,15,"div",61)(2,Ee,32,11,"div",61)(3,ke,35,6,"div",61)(4,Ie,25,6,"div",61),i()),r&2){let e=t.ngIf;s(),d("ngIf",e.process==null?null:e.process.ffmpegStats),s(),d("ngIf",e.process==null?null:e.process.systemInfo),s(),d("ngIf",e.process==null||e.process.systemInfo==null?null:e.process.systemInfo.network),s(),d("ngIf",e.channel)}}function Te(r,t){r&1&&(n(0,"div",78),_(1,"i",19),n(2,"p"),a(3,"No hay estad\xEDsticas disponibles en este momento."),i(),n(4,"small"),a(5,"Las estad\xEDsticas aparecer\xE1n cuando el canal est\xE9 en ejecuci\xF3n."),i()())}function Ve(r,t){if(r&1&&(n(0,"div",59),u(1,De,5,4,"div",60)(2,Te,6,0,"ng-template",null,1,J),i()),r&2){let e=H(3),l=p();s(),d("ngIf",l.getChannelStats())("ngIfElse",e)}}function Ae(r,t){if(r&1){let e=v();n(0,"button",21),C("click",function(){m(e);let o=p();return g(o.activeTab="logs")}),_(1,"i",79),a(2," Logs "),i()}if(r&2){let e=p();y("active",e.activeTab==="logs")}}function Fe(r,t){if(r&1&&(n(0,"option",120),a(1),i()),r&2){let e=t.$implicit;d("value",e.index.toString()),s(),Z(" ",e.name," (",e.type.toUpperCase(),", \xCDndice: ",e.index,"",e.device?", "+e.device:"",") ")}}function Ne(r,t){r&1&&_(0,"i",121)}function Ue(r,t){r&1&&(n(0,"small",122),a(1," Detectando tarjetas de video disponibles... "),i())}function Le(r,t){if(r&1&&(n(0,"small",122),a(1),i()),r&2){let e=p(3);s(),P(" ",e.availableGPUs().length," tarjeta(s) de video detectada(s). ")}}function We(r,t){r&1&&(n(0,"small",122),a(1," No se detectaron tarjetas de video. Se usar\xE1n codecs de software. "),i())}function ze(r,t){if(r&1&&(n(0,"small",122),a(1),i()),r&2){let e,l=p(3);s(),P(" GPU seleccionada: ",(e=l.selectedGPU())==null?null:e.name,". Se mostrar\xE1n solo codecs compatibles. ")}}function Ge(r,t){r&1&&(n(0,"optgroup",123)(1,"option",124),a(2,"H.264 (libx264)"),i(),n(3,"option",125),a(4,"H.265 (libx265)"),i(),n(5,"option",126),a(6,"MPEG-2 Video"),i()())}function Be(r,t){if(r&1&&(n(0,"option",120),a(1),i()),r&2){let e=t.$implicit;d("value",e.value),s(),P(" ",e.label," ")}}function Re(r,t){if(r&1&&(n(0,"optgroup",127),u(1,Be,2,2,"option",89),i()),r&2){let e=p(3);s(),d("ngForOf",e.availableCodecs().hardware)}}function je(r,t){r&1&&(n(0,"small",122),_(1,"i",128),a(2," El codec seleccionado no es compatible con la GPU. Se recomienda cambiar el codec. "),i())}function He(r,t){if(r&1&&(n(0,"option",120),a(1),i()),r&2){let e=t.$implicit;d("value",e.stream_index.toString()),s(),X(" Pista ",e.index," - ",e.codec," (",e.bitrate,", ",e.channels,"ch",e.language?", "+e.language:"","",e.title?" - "+e.title:" - \xCDndice "+e.stream_index,") ")}}function Je(r,t){r&1&&_(0,"i",121)}function qe(r,t){r&1&&(n(0,"small",122),a(1,' Haz clic en "Analizar" para cargar las pistas de audio disponibles del stream. '),i())}function Qe(r,t){if(r&1&&(n(0,"small",122),a(1),i()),r&2){let e=p(3);s(),P(" ",e.audioTracks().length," pista(s) de audio disponible(s). ")}}function Ye(r,t){if(r&1){let e=v();n(0,"div",49)(1,"label"),a(2,"Preset de Compresi\xF3n"),i(),n(3,"select",87),b("ngModelChange",function(o){m(e);let c=p(3);return x(c.ffmpegSimple.preset,o)||(c.ffmpegSimple.preset=o),g(o)}),n(4,"option",129),a(5,"Ultrafast (Bajo CPU)"),i(),n(6,"option",130),a(7,"Superfast"),i(),n(8,"option",131),a(9,"Veryfast (Recomendado)"),i(),n(10,"option",132),a(11,"Faster"),i(),n(12,"option",133),a(13,"Fast"),i(),n(14,"option",134),a(15,"Medium"),i(),n(16,"option",135),a(17,"Slow"),i(),n(18,"option",136),a(19,"Slower"),i(),n(20,"option",137),a(21,"Veryslow (Mejor calidad)"),i()()()}if(r&2){let e=p(3);s(3),h("ngModel",e.ffmpegSimple.preset),d("disabled",e.currentStatus()==="running")}}function Ke(r,t){if(r&1){let e=v();n(0,"div",49)(1,"label"),a(2,"Tune"),i(),n(3,"select",87),b("ngModelChange",function(o){m(e);let c=p(3);return x(c.ffmpegSimple.tune,o)||(c.ffmpegSimple.tune=o),g(o)}),n(4,"option",88),a(5,"Ninguno"),i(),n(6,"option",138),a(7,"Film"),i(),n(8,"option",139),a(9,"Animation"),i(),n(10,"option",140),a(11,"Grain"),i(),n(12,"option",141),a(13,"Stillimage"),i(),n(14,"option",142),a(15,"PSNR"),i(),n(16,"option",143),a(17,"SSIM"),i(),n(18,"option",144),a(19,"Fastdecode"),i(),n(20,"option",145),a(21,"Zerolatency"),i()()()}if(r&2){let e=p(3);s(3),h("ngModel",e.ffmpegSimple.tune),d("disabled",e.currentStatus()==="running")}}function Ze(r,t){if(r&1){let e=v();n(0,"div",49)(1,"label"),a(2,"Profile"),i(),n(3,"select",87),b("ngModelChange",function(o){m(e);let c=p(3);return x(c.ffmpegSimple.profile,o)||(c.ffmpegSimple.profile=o),g(o)}),n(4,"option",88),a(5,"Auto"),i(),n(6,"option",146),a(7,"Baseline"),i(),n(8,"option",147),a(9,"Main"),i(),n(10,"option",148),a(11,"High"),i()()()}if(r&2){let e=p(3);s(3),h("ngModel",e.ffmpegSimple.profile),d("disabled",e.currentStatus()==="running")}}function Xe(r,t){if(r&1){let e=v();n(0,"div",149)(1,"input",150),b("ngModelChange",function(o){let c=m(e).$implicit;return x(c.key,o)||(c.key=o),g(o)}),i(),n(2,"input",151),b("ngModelChange",function(o){let c=m(e).$implicit;return x(c.value,o)||(c.value=o),g(o)}),i(),n(3,"button",152),C("click",function(){let o=m(e).index,c=p(3);return g(c.removeInputOption(o))}),a(4,"\xD7"),i()()}if(r&2){let e=t.$implicit,l=p(3);s(),h("ngModel",e.key),d("disabled",l.currentStatus()==="running"),s(),h("ngModel",e.value),d("disabled",l.currentStatus()==="running"),s(),d("disabled",l.currentStatus()==="running")}}function $e(r,t){if(r&1){let e=v();n(0,"div",85)(1,"div",49)(2,"label"),a(3,"Tarjeta de Video (GPU)"),i(),n(4,"div",86)(5,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.gpu_index,o)||(c.ffmpegSimple.gpu_index=o),g(o)}),C("ngModelChange",function(){m(e);let o=p(2);return g(o.onGPUChange())}),n(6,"option",88),a(7,"Autom\xE1tico / Software (Sin aceleraci\xF3n por hardware)"),i(),u(8,Fe,2,5,"option",89),i(),n(9,"button",90),C("click",function(){m(e);let o=p(2);return g(o.loadGPUs())}),u(10,Ne,1,0,"i",91),a(11),i()(),u(12,Ue,2,0,"small",92)(13,Le,2,1,"small",92)(14,We,2,0,"small",92)(15,ze,2,1,"small",92),i(),n(16,"div",49)(17,"label"),a(18,"Video Codec"),i(),n(19,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.video_codec,o)||(c.ffmpegSimple.video_codec=o),g(o)}),n(20,"option",93),a(21,"Copiar (Sin transcodificar)"),i(),u(22,Ge,7,0,"optgroup",94)(23,Re,2,1,"optgroup",95),i(),u(24,je,3,0,"small",92),i(),n(25,"div",49)(26,"label"),a(27,"Audio Codec"),i(),n(28,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.audio_codec,o)||(c.ffmpegSimple.audio_codec=o),g(o)}),n(29,"option",93),a(30,"Copiar (Sin transcodificar)"),i(),n(31,"option",96),a(32,"AAC"),i(),n(33,"option",97),a(34,"AC3"),i(),n(35,"option",98),a(36,"MP3"),i()()(),n(37,"div",49)(38,"label"),a(39,"Pista de Audio (audio_stream_index)"),i(),n(40,"div",86)(41,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.audio_stream_index,o)||(c.ffmpegSimple.audio_stream_index=o),g(o)}),n(42,"option",88),a(43,"Autom\xE1tico (Primera pista disponible)"),i(),u(44,He,2,7,"option",89),i(),n(45,"button",90),C("click",function(){m(e);let o=p(2);return g(o.analyzeAudioTracks())}),u(46,Je,1,0,"i",91),a(47),i()(),u(48,qe,2,0,"small",92)(49,Qe,2,1,"small",92),i(),n(50,"div",49)(51,"label"),a(52,"Bitrate Video (Ej: 2M, 500k)"),i(),n(53,"input",99),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.video_bitrate,o)||(c.ffmpegSimple.video_bitrate=o),g(o)}),i()(),n(54,"div",49)(55,"label"),a(56,"Bitrate Audio (Ej: 128k, 192k)"),i(),n(57,"input",99),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.audio_bitrate,o)||(c.ffmpegSimple.audio_bitrate=o),g(o)}),i()(),n(58,"div",49)(59,"label"),a(60,"Resoluci\xF3n"),i(),n(61,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.resolution,o)||(c.ffmpegSimple.resolution=o),g(o)}),n(62,"option",100),a(63,"Original"),i(),n(64,"option",101),a(65,"1080p (1920x1080)"),i(),n(66,"option",102),a(67,"720p (1280x720)"),i(),n(68,"option",103),a(69,"480p (854x480)"),i(),n(70,"option",104),a(71,"360p (640x360)"),i()()(),u(72,Ye,22,2,"div",105)(73,Ke,22,2,"div",105)(74,Ze,12,2,"div",105),n(75,"div",49)(76,"label"),a(77,"GOP (G)"),i(),n(78,"input",106),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.g,o)||(c.ffmpegSimple.g=o),g(o)}),i()(),n(79,"div",49)(80,"label"),a(81,"Vsync"),i(),n(82,"select",87),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.vsync,o)||(c.ffmpegSimple.vsync=o),g(o)}),n(83,"option",88),a(84,"Auto"),i(),n(85,"option",107),a(86,"0 (Passthrough)"),i(),n(87,"option",108),a(88,"1 (CFR)"),i(),n(89,"option",109),a(90,"2 (VFR)"),i(),n(91,"option",110),a(92,"Drop"),i(),n(93,"option",111),a(94,"CFR"),i(),n(95,"option",112),a(96,"VFR"),i()()(),n(97,"div",52)(98,"label"),a(99,"Fflags (FFmpeg)"),i(),n(100,"input",113),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegSimple.fflags,o)||(c.ffmpegSimple.fflags=o),g(o)}),i()(),n(101,"div",114)(102,"div",115)(103,"label"),a(104,"Input Options (FFmpeg Global)"),i(),n(105,"button",116),C("click",function(){m(e);let o=p(2);return g(o.addInputOption())}),_(106,"i",117),a(107," A\xF1adir "),i()(),n(108,"div",118),u(109,Xe,5,5,"div",119),i()()()}if(r&2){let e=p(2);s(5),h("ngModel",e.ffmpegSimple.gpu_index),d("disabled",e.currentStatus()==="running"||e.isLoadingGPUs()),s(3),d("ngForOf",e.availableGPUs()),s(),d("disabled",e.isLoadingGPUs()||e.currentStatus()==="running"),s(),d("ngIf",e.isLoadingGPUs()),s(),P(" ",e.isLoadingGPUs()?"Detectando...":"Detectar"," "),s(),d("ngIf",e.isLoadingGPUs()),s(),d("ngIf",!e.isLoadingGPUs()&&e.availableGPUs().length>0),s(),d("ngIf",!e.isLoadingGPUs()&&e.availableGPUs().length===0),s(),d("ngIf",e.selectedGPU()),s(4),h("ngModel",e.ffmpegSimple.video_codec),d("disabled",e.currentStatus()==="running"),s(3),d("ngIf",e.availableCodecs().software.length>0),s(),d("ngIf",e.availableCodecs().hardware.length>0),s(),d("ngIf",e.selectedGPU()&&!e.isCodecCompatible()&&e.ffmpegSimple.video_codec!=="copy"),s(4),h("ngModel",e.ffmpegSimple.audio_codec),d("disabled",e.currentStatus()==="running"),s(13),h("ngModel",e.ffmpegSimple.audio_stream_index),d("disabled",e.currentStatus()==="running"||e.isAnalyzingAudio()),s(3),d("ngForOf",e.audioTracks()),s(),d("disabled",e.isAnalyzingAudio()||e.currentStatus()==="running"||!e.model.input_url),s(),d("ngIf",e.isAnalyzingAudio()),s(),P(" ",e.isAnalyzingAudio()?"Analizando...":"Analizar"," "),s(),d("ngIf",e.audioTracks().length===0&&!e.isAnalyzingAudio()),s(),d("ngIf",e.audioTracks().length>0),s(4),h("ngModel",e.ffmpegSimple.video_bitrate),d("disabled",e.currentStatus()==="running"),s(4),h("ngModel",e.ffmpegSimple.audio_bitrate),d("disabled",e.currentStatus()==="running"),s(4),h("ngModel",e.ffmpegSimple.resolution),d("disabled",e.currentStatus()==="running"),s(11),d("ngIf",e.ffmpegSimple.video_codec.includes("x26")),s(),d("ngIf",e.ffmpegSimple.video_codec.includes("x26")),s(),d("ngIf",e.ffmpegSimple.video_codec.includes("x26")),s(4),h("ngModel",e.ffmpegSimple.g),d("disabled",e.currentStatus()==="running"),s(4),h("ngModel",e.ffmpegSimple.vsync),d("disabled",e.currentStatus()==="running"),s(18),h("ngModel",e.ffmpegSimple.fflags),d("disabled",e.currentStatus()==="running"),s(5),d("disabled",e.currentStatus()==="running"),s(4),d("ngForOf",e.ffmpegSimple.input_options)}}function et(r,t){if(r&1&&(n(0,"span",58),a(1),i()),r&2){let e=p(3);s(),f(e.validationErrors().ffmpeg_params)}}function tt(r,t){if(r&1){let e=v();n(0,"div",153)(1,"div",154),a(2,'Usa "additional_params" para flags directos de FFmpeg (ej: "-tune zerolatency").'),i(),n(3,"textarea",155),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.ffmpegParamsStr,o)||(c.ffmpegParamsStr=o),g(o)}),i(),u(4,et,2,1,"span",51),i()}if(r&2){let e=p(2);y("has-error",e.validationErrors().ffmpeg_params),s(3),h("ngModel",e.ffmpegParamsStr),d("disabled",e.currentStatus()==="running"),s(),d("ngIf",e.validationErrors().ffmpeg_params)}}function nt(r,t){if(r&1){let e=v();n(0,"div",80)(1,"div",81)(2,"p"),a(3,"Configuraci\xF3n de FFmpeg para procesamiento de video y audio."),i(),n(4,"button",82),C("click",function(){m(e);let o=p();return g(o.toggleFfmpegExpertMode())}),a(5),i()(),u(6,$e,110,42,"div",83)(7,tt,5,5,"div",84),i()}if(r&2){let e=p();s(5),P(" ",e.isFfmpegExpertMode()?"\u2728 Editor Simple":"\u{1F6E0}\uFE0F Modo Experto"," "),s(),d("ngIf",!e.isFfmpegExpertMode()),s(),d("ngIf",e.isFfmpegExpertMode())}}function it(r,t){if(r&1){let e=v();n(0,"input",170),b("ngModelChange",function(o){m(e);let c=p().$implicit;return x(c.host,o)||(c.host=o),g(o)}),i()}if(r&2){let e=p().$implicit,l=p(3);h("ngModel",e.host),d("disabled",l.currentStatus()==="running")}}function ot(r,t){if(r&1){let e=v();n(0,"input",171),b("ngModelChange",function(o){m(e);let c=p().$implicit;return x(c.port,o)||(c.port=o),g(o)}),i()}if(r&2){let e=p().$implicit,l=p(3);h("ngModel",e.port),d("disabled",l.currentStatus()==="running")}}function at(r,t){if(r&1){let e=v();n(0,"input",172),b("ngModelChange",function(o){m(e);let c=p().$implicit;return x(c.path,o)||(c.path=o),g(o)}),i()}if(r&2){let e=p().$implicit,l=p(3);h("ngModel",e.path),d("disabled",l.currentStatus()==="running")}}function rt(r,t){if(r&1){let e=v();n(0,"div",162)(1,"div",163)(2,"select",87),b("ngModelChange",function(o){let c=m(e).$implicit;return x(c.type,o)||(c.type=o),g(o)}),C("ngModelChange",function(){let o=m(e).$implicit,c=p(3);return g(c.onOutputTypeChange(o))}),n(3,"option",164),a(4,"HLS"),i(),n(5,"option",165),a(6,"UDP"),i()(),u(7,it,1,2,"input",166)(8,ot,1,2,"input",167)(9,at,1,2,"input",168),i(),n(10,"button",169),C("click",function(){let o=m(e).index,c=p(3);return g(c.removeOutput(o))}),a(11,"\xD7"),i()()}if(r&2){let e=t.$implicit,l=p(3);s(2),h("ngModel",e.type),d("disabled",l.currentStatus()==="running"),s(5),d("ngIf",e.type==="udp"),s(),d("ngIf",e.type==="udp"),s(),d("ngIf",e.type==="hls"),s(),d("disabled",l.currentStatus()==="running")}}function lt(r,t){if(r&1){let e=v();n(0,"div",159),u(1,rt,12,6,"div",160),n(2,"button",161),C("click",function(){m(e);let o=p(2);return g(o.addOutput())}),a(3,"+ A\xF1adir nueva salida"),i()()}if(r&2){let e=p(2);s(),d("ngForOf",e.outputs())("ngForTrackBy",e.trackByOutput),s(),d("disabled",e.currentStatus()==="running")}}function st(r,t){if(r&1&&(n(0,"span",58),a(1),i()),r&2){let e=p(3);s(),f(e.validationErrors().outputs)}}function ct(r,t){if(r&1){let e=v();n(0,"div",153)(1,"textarea",173),b("ngModelChange",function(o){m(e);let c=p(2);return x(c.outputsStr,o)||(c.outputsStr=o),g(o)}),i(),u(2,st,2,1,"span",51),i()}if(r&2){let e=p(2);y("has-error",e.validationErrors().outputs),s(),h("ngModel",e.outputsStr),d("disabled",e.currentStatus()==="running"),s(),d("ngIf",e.validationErrors().outputs)}}function dt(r,t){if(r&1){let e=v();n(0,"div",149)(1,"input",177),b("ngModelChange",function(o){let c=m(e).$implicit;return x(c.key,o)||(c.key=o),g(o)}),i(),n(2,"input",178),b("ngModelChange",function(o){let c=m(e).$implicit;return x(c.value,o)||(c.value=o),g(o)}),i(),n(3,"button",152),C("click",function(){let o=m(e).index,c=p(3);return g(c.removeOutputOption(o))}),a(4,"\xD7"),i()()}if(r&2){let e=t.$implicit,l=p(3);s(),h("ngModel",e.key),d("disabled",l.currentStatus()==="running"),s(),h("ngModel",e.value),d("disabled",l.currentStatus()==="running"),s(),d("disabled",l.currentStatus()==="running")}}function pt(r,t){r&1&&(n(0,"div",179),a(1," No hay opciones de salida adicionales definidas. "),i())}function mt(r,t){if(r&1){let e=v();n(0,"div",174)(1,"div",115)(2,"label"),_(3,"i",175),a(4," Par\xE1metros de Salida (Global Output Options)"),i(),n(5,"button",116),C("click",function(){m(e);let o=p(2);return g(o.addOutputOption())}),_(6,"i",117),a(7," A\xF1adir opci\xF3n "),i()(),n(8,"div",118),u(9,dt,5,5,"div",119),i(),u(10,pt,2,0,"div",176),i()}if(r&2){let e=p(2);s(5),d("disabled",e.currentStatus()==="running"),s(4),d("ngForOf",e.ffmpegSimple.output_options),s(),d("ngIf",e.ffmpegSimple.output_options.length===0)}}function gt(r,t){if(r&1){let e=v();n(0,"div",156)(1,"div",81)(2,"p"),a(3,"Define los puntos de distribuci\xF3n (HLS, UDP)."),i(),n(4,"button",82),C("click",function(){m(e);let o=p();return g(o.toggleExpertMode())}),a(5),i()(),u(6,lt,4,3,"div",157)(7,ct,3,5,"div",84)(8,mt,11,3,"div",158),i()}if(r&2){let e=p();s(5),P(" ",e.isExpertMode()?"\u2728 Editor Simple":"\u{1F6E0}\uFE0F Modo Experto"," "),s(),d("ngIf",!e.isExpertMode()),s(),d("ngIf",e.isExpertMode()),s(),d("ngIf",!e.isExpertMode())}}function ut(r,t){if(r&1&&(n(0,"div",188)(1,"span",189),a(2),D(3,"date"),i(),n(4,"span",190),a(5),i()()),r&2){let e=t.$implicit;F(e.level),s(2),f(T(3,4,e.created_at,"HH:mm:ss")),s(3),f(e.message)}}function _t(r,t){r&1&&(n(0,"div",191),a(1,"No hay logs recientes."),i())}function ft(r,t){if(r&1){let e=v();n(0,"div",180)(1,"div",81)(2,"p"),a(3,"Registro de eventos y depuraci\xF3n en tiempo real."),i(),n(4,"div",181)(5,"button",182),C("click",function(){m(e);let o=p();return g(o.manualRefreshLogs())}),_(6,"i",12),a(7," Actualizar "),i(),n(8,"button",183),C("click",function(){m(e);let o=p();return g(o.clearLogs())}),_(9,"i",184),a(10," Limpiar "),i()()(),n(11,"div",185,2),u(13,ut,6,7,"div",186)(14,_t,2,0,"div",187),i()()}if(r&2){let e=p();s(5),d("disabled",e.isRefreshingLogs()),s(),y("fa-rotate",!e.isRefreshingLogs())("fa-spinner",e.isRefreshingLogs())("fa-spin",e.isRefreshingLogs()),s(2),d("disabled",e.logs().length===0),s(5),d("ngForOf",e.logs()),s(),d("ngIf",e.logs().length===0)}}function Ct(r,t){if(r&1&&(n(0,"div",192)(1,"div",81)(2,"p"),a(3,"Representaci\xF3n JSON del canal tal como se enviar\xEDa al backend."),i()(),n(4,"pre",193),a(5),i()()),r&2){let e=p();s(5),f(e.getRawJson())}}function vt(r,t){if(r&1){let e=v();n(0,"button",202),C("click",function(){m(e);let o=p(2);return g(o.start())}),_(1,"i",12),a(2),i()}if(r&2){let e=p(2);d("disabled",e.pendingAction()!==null),s(),y("fa-play",e.pendingAction()!=="start")("fa-spinner",e.pendingAction()==="start")("fa-spin",e.pendingAction()==="start"),s(),P(" ",e.pendingAction()==="start"?"Iniciando...":"Iniciar"," ")}}function ht(r,t){if(r&1){let e=v();n(0,"button",203),C("click",function(){m(e);let o=p(2);return g(o.stop())}),_(1,"i",12),a(2),i()}if(r&2){let e=p(2);d("disabled",e.pendingAction()!==null),s(),y("fa-stop",e.pendingAction()!=="stop")("fa-spinner",e.pendingAction()==="stop")("fa-spin",e.pendingAction()==="stop"),s(),P(" ",e.pendingAction()==="stop"?"Deteniendo...":"Detener"," ")}}function xt(r,t){if(r&1){let e=v();n(0,"div",194)(1,"div",18)(2,"h3"),_(3,"i",195),a(4," Control del Stream"),i()(),n(5,"div",24)(6,"div",196),_(7,"span",197),n(8,"span",8),a(9),i()(),n(10,"div",198),u(11,vt,3,8,"button",199)(12,ht,3,8,"button",200),n(13,"button",201),C("click",function(){m(e);let o=p();return g(o.restart())}),_(14,"i",12),a(15),i()()()()}if(r&2){let e=p();s(6),F(e.currentStatus()),s(3),f(e.getStatusText()),s(2),d("ngIf",e.currentStatus()!=="running"&&e.currentStatus()!=="restarting"),s(),d("ngIf",e.currentStatus()==="running"||e.currentStatus()==="error"||e.currentStatus()==="restarting"),s(),d("disabled",e.pendingAction()!==null),s(),y("fa-rotate",e.pendingAction()!=="restart")("fa-spinner",e.pendingAction()==="restart")("fa-spin",e.pendingAction()==="restart"),s(),P(" ",e.pendingAction()==="restart"?"Reiniciando...":"Reiniciar"," ")}}function bt(r,t){if(r&1){let e=v();n(0,"div",206)(1,"div",207)(2,"span",208),a(3),i(),n(4,"span",209),a(5),i()(),n(6,"div",210)(7,"code",211),a(8),i(),n(9,"button",212),C("click",function(o){let c=m(e).$implicit,O=p(2);return g(O.copyUrl(c.fullUrl,o))}),_(10,"i",213),i()()()}if(r&2){let e=t.$implicit,l=t.index,o=p(2);s(2),F(o.getTypeClass(e.type)),s(),f(e.type),s(2),P("#",l+1),s(3),f(e.fullUrl)}}function Mt(r,t){if(r&1&&(n(0,"div",204),u(1,bt,11,5,"div",205),i()),r&2){let e=p();s(),d("ngForOf",e.getAllOutputUrls())}}function St(r,t){r&1&&(n(0,"div",214),_(1,"i",19),n(2,"span"),a(3,"No hay URLs de salida disponibles para este canal."),i()())}function yt(r,t){if(r&1){let e=v();n(0,"div",215)(1,"div",18)(2,"h3"),a(3,"Acciones Cr\xEDticas"),i()(),n(4,"div",24)(5,"p"),a(6,"Eliminar este canal detendr\xE1 todas las transmisiones asociadas permanentemente."),i(),n(7,"button",216),C("click",function(){m(e);let o=p();return g(o.delete())}),_(8,"i",217),a(9," Eliminar Canal "),i()()()}}var he=class r{isNew=!1;activeTab="advanced";basicInfoTab="basic";channel=S(null);logs=S([]);isSaving=S(!1);errorMessage=S(null);successMessage=S(null);isExpertMode=S(!1);isFfmpegExpertMode=S(!1);validationErrors=S({});isRefreshingLogs=S(!1);outputs=S([]);model={name:"",slug:"",input_url:"",auto_restart:!0};ffmpegParamsStr="{}";ffmpegSimple={video_codec:"copy",audio_codec:"copy",video_bitrate:"",audio_bitrate:"",resolution:"original",preset:"veryfast",tune:"",profile:"",g:"",vsync:"",fflags:"",audio_stream_index:"",gpu_index:"",input_options:[],output_options:[]};audioTracks=S([]);isAnalyzingAudio=S(!1);availableGPUs=S([]);isLoadingGPUs=S(!1);ffmpegParamsOther={};outputsStr="[]";channelService=A(ve);dialogService=A(fe);socketService=A(Ce);route=A(oe);router=A(ae);pendingAction=S(null);selectedGPU=N(()=>{let t=this.ffmpegSimple.gpu_index;if(!t||t.trim()==="")return null;let e=parseInt(t.trim());return isNaN(e)?null:this.availableGPUs().find(l=>l.index===e&&l.available)||null});availableCodecs=N(()=>{let t=this.selectedGPU();if(!t)return{software:["libx264","libx265","mpeg2video"],hardware:[{value:"h264_nvenc",label:"H.264 NVENC (NVIDIA)"},{value:"hevc_nvenc",label:"HEVC NVENC (NVIDIA)"},{value:"h264_vaapi",label:"H.264 VAAPI (Intel/AMD)"},{value:"hevc_vaapi",label:"HEVC VAAPI (Intel/AMD)"},{value:"h264_qsv",label:"H.264 QSV (Intel)"},{value:"hevc_qsv",label:"HEVC QSV (Intel)"},{value:"h264_videotoolbox",label:"H.264 VideoToolbox (macOS)"},{value:"hevc_videotoolbox",label:"HEVC VideoToolbox (macOS)"}]};let e=[];return t.type==="nvenc"?e.push({value:"h264_nvenc",label:"H.264 NVENC (NVIDIA)"},{value:"hevc_nvenc",label:"HEVC NVENC (NVIDIA)"}):t.type==="vaapi"?e.push({value:"h264_vaapi",label:"H.264 VAAPI (Intel/AMD)"},{value:"hevc_vaapi",label:"HEVC VAAPI (Intel/AMD)"}):t.type==="qsv"?e.push({value:"h264_qsv",label:"H.264 QSV (Intel)"},{value:"hevc_qsv",label:"HEVC QSV (Intel)"}):t.type==="videotoolbox"&&e.push({value:"h264_videotoolbox",label:"H.264 VideoToolbox (macOS)"},{value:"hevc_videotoolbox",label:"HEVC VideoToolbox (macOS)"}),{software:["libx264","libx265","mpeg2video"],hardware:e}});isCodecCompatible=N(()=>{let t=this.selectedGPU(),e=this.ffmpegSimple.video_codec;return!!(!t||e==="copy"||!e.includes("nvenc")&&!e.includes("vaapi")&&!e.includes("qsv")&&!e.includes("videotoolbox")||t.type==="nvenc"&&e.includes("nvenc")||t.type==="vaapi"&&e.includes("vaapi")||t.type==="qsv"&&e.includes("qsv")||t.type==="videotoolbox"&&e.includes("videotoolbox"))});constructor(){W(()=>{let t=this.currentStatus();this.pendingAction()&&(this.pendingAction()==="start"&&t==="running"||this.pendingAction()==="stop"&&(t==="stopped"||t==="error")||this.pendingAction()==="restart"&&(t==="running"||t==="restarting"))&&this.pendingAction.set(null)}),W(()=>{let t=this.channel()?.id;if(!t)return;let l=this.socketService.allStats().find(o=>{let c=o.channel?.id;return String(c)===String(t)});if(l&&l.channel){let o=this.channel();o&&l.channel.status&&l.channel.status!==o.status&&this.channel.set(I(w({},o),{status:l.channel.status}))}}),W(()=>{if(!(!this.selectedGPU()||this.ffmpegSimple.video_codec==="copy")&&!this.isCodecCompatible()){let l=this.availableCodecs();l.hardware.length>0?this.ffmpegSimple.video_codec=l.hardware[0].value:this.ffmpegSimple.video_codec="libx264"}})}currentStatus=N(()=>{let t=this.channel()?.id;if(!t)return"stopped";let e=this.channel();if(!e)return"stopped";let l=e.status;if(l==="error")return"error";if(l==="restarting")return"restarting";if(!this.socketService.isConnected())return l==="running"?"running":"stopped";let c=this.socketService.allStats().find(O=>{let E=O.channel?.id;return String(E)===String(t)});if(c){let O=c.channel?.status;return O==="restarting"?"restarting":O==="error"?"error":c.process?.isRunning===!0?"running":"stopped"}return l==="running"?"running":"stopped"});ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.socketService.subscribeToAll(),this.loadGPUs(),t==="new"?(this.isNew=!0,this.addOutput()):t&&(this.loadChannel(t),this.loadLogs(t),this.socketService.subscribeToChannel(t))}ngOnDestroy(){let t=this.route.snapshot.paramMap.get("id");t&&t!=="new"&&this.socketService.unsubscribeFromChannel(t)}loadChannel(t){this.channelService.getChannel(t).subscribe(e=>{e.slug||(e.slug=this.generateSlug(e.name)),this.channel.set(e),this.model=w({},e),this.ffmpegParamsStr=JSON.stringify(e.ffmpeg_params,null,2),this.syncFfmpegToSimple(e.ffmpeg_params||{}),this.outputsStr=JSON.stringify(e.outputs,null,2),this.outputs.set(JSON.parse(JSON.stringify(e.outputs||[]))),e.input_url&&e.input_url.trim()&&setTimeout(()=>this.analyzeAudioTracks(),300)})}syncFfmpegToSimple(t){let Y=t||{},{video_codec:e,audio_codec:l,video_bitrate:o,audio_bitrate:c,resolution:O,preset:E,tune:V,profile:k,g:U,vsync:M,fflags:z,audio_stream_index:G,gpu_index:B,input_options:q,output_options:Q}=Y,xe=L(Y,["video_codec","audio_codec","video_bitrate","audio_bitrate","resolution","preset","tune","profile","g","vsync","fflags","audio_stream_index","gpu_index","input_options","output_options"]);this.ffmpegSimple={video_codec:e||"copy",audio_codec:l||"copy",video_bitrate:o||"",audio_bitrate:c||"",resolution:O||"original",preset:E||"veryfast",tune:V||"",profile:k||"",g:U||"",vsync:M||"",fflags:z||"",audio_stream_index:G!=null?String(G):"",gpu_index:B!=null?String(B):"",input_options:q?Object.entries(q).map(([R,j])=>({key:R,value:String(j)})):[],output_options:Q?Object.entries(Q).map(([R,j])=>({key:R,value:String(j)})):[]},this.ffmpegParamsOther=xe}syncFfmpegFromSimple(){let t=I(w({},this.ffmpegParamsOther),{video_codec:this.ffmpegSimple.video_codec,audio_codec:this.ffmpegSimple.audio_codec});if(this.ffmpegSimple.video_bitrate&&(t.video_bitrate=this.ffmpegSimple.video_bitrate),this.ffmpegSimple.audio_bitrate&&(t.audio_bitrate=this.ffmpegSimple.audio_bitrate),this.ffmpegSimple.resolution!=="original"&&(t.resolution=this.ffmpegSimple.resolution),this.ffmpegSimple.video_codec.includes("x26")&&(t.preset=this.ffmpegSimple.preset,this.ffmpegSimple.tune&&(t.tune=this.ffmpegSimple.tune),this.ffmpegSimple.profile&&(t.profile=this.ffmpegSimple.profile)),this.ffmpegSimple.g&&(t.g=this.ffmpegSimple.g),this.ffmpegSimple.vsync&&(t.vsync=this.ffmpegSimple.vsync),this.ffmpegSimple.fflags&&(t.fflags=this.ffmpegSimple.fflags),this.ffmpegSimple.audio_stream_index&&this.ffmpegSimple.audio_stream_index.trim()!==""){let e=parseInt(this.ffmpegSimple.audio_stream_index.trim());isNaN(e)||(t.audio_stream_index=e)}if(this.ffmpegSimple.gpu_index&&this.ffmpegSimple.gpu_index.trim()!==""){let e=parseInt(this.ffmpegSimple.gpu_index.trim());isNaN(e)||(t.gpu_index=e)}return this.ffmpegSimple.input_options.length>0&&(t.input_options={},this.ffmpegSimple.input_options.forEach(e=>{e.key.trim()&&(t.input_options[e.key.trim()]=e.value)})),this.ffmpegSimple.output_options.length>0&&(t.output_options={},this.ffmpegSimple.output_options.forEach(e=>{e.key.trim()&&(t.output_options[e.key.trim()]=e.value)})),t}addInputOption(){this.ffmpegSimple.input_options.push({key:"",value:""})}removeInputOption(t){this.ffmpegSimple.input_options.splice(t,1)}addOutputOption(){this.ffmpegSimple.output_options.push({key:"",value:""})}removeOutputOption(t){this.ffmpegSimple.output_options.splice(t,1)}loadLogs(t){this.channelService.getChannelLogs(t).subscribe({next:e=>{this.logs.set(e.logs),this.isRefreshingLogs.set(!1)},error:()=>this.isRefreshingLogs.set(!1)})}manualRefreshLogs(){let t=this.channel()?.id;t&&(this.isRefreshingLogs.set(!0),this.loadLogs(t))}save(){this.errorMessage.set(null),this.validationErrors.set({});let t={};this.model.name?.trim()||(t.name="El nombre es obligatorio"),this.model.input_url?.trim()||(t.input_url="La URL de entrada es obligatoria");let e={};if(this.isFfmpegExpertMode())try{e=JSON.parse(this.ffmpegParamsStr)}catch{t.ffmpeg_params="Formato JSON inv\xE1lido"}else if(e=this.syncFfmpegFromSimple(),e.gpu_index!==void 0&&e.video_codec!=="copy"){let M=this.selectedGPU();M&&!this.isCodecCompatible()&&(t.ffmpeg_params=`El codec ${e.video_codec} no es compatible con la GPU seleccionada (${M.name})`)}let l=this.isExpertMode()?[]:this.outputs();if(this.isExpertMode())try{l=JSON.parse(this.outputsStr)}catch{t.outputs="Formato JSON de salidas inv\xE1lido"}if(!Array.isArray(l)||l.length===0?t.outputs="Al menos una salida es obligatoria":l.forEach((M,z)=>{M.type==="hls"&&!M.path?.trim()&&this.isNew,M.type==="udp"&&(!M.host?.trim()||!M.port)&&(t.outputs=`La salida UDP #${z+1} requiere Host y Puerto`)}),Object.keys(t).length>0){this.validationErrors.set(t);return}this.isSaving.set(!0);let U=this.model,{outputs:o,slug:c,ffmpeg_params:O}=U,E=L(U,["outputs","slug","ffmpeg_params"]),V=I(w({},E),{slug:this.model.slug,ffmpeg_params:e,outputs:l.map(M=>M.type==="udp"?I(w({},M),{port:Number(M.port)}):M)});(this.isNew?this.channelService.createChannel(V):this.channelService.updateChannel(this.channel().id,V)).subscribe({next:M=>{this.isSaving.set(!1),this.successMessage.set("Canal guardado correctamente."),this.isNew?this.router.navigate(["/channels"]):(this.channel.set(M),this.model=w({},M),this.ffmpegParamsStr=JSON.stringify(M.ffmpeg_params,null,2),this.syncFfmpegToSimple(M.ffmpeg_params),this.outputsStr=JSON.stringify(M.outputs,null,2),this.outputs.set(JSON.parse(JSON.stringify(M.outputs||[]))),setTimeout(()=>this.successMessage.set(null),3e3))},error:M=>{this.isSaving.set(!1),this.errorMessage.set(M.error?.message||"Error al guardar el canal.")}})}onNameChange(t){(this.isNew||!this.channel()?.slug)&&(this.model.slug=this.generateSlug(t))}generateSlug(t){return t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")}toggleFfmpegExpertMode(){if(this.isFfmpegExpertMode())try{let t=JSON.parse(this.ffmpegParamsStr);this.syncFfmpegToSimple(t),this.isFfmpegExpertMode.set(!1)}catch{confirm("JSON inv\xE1lido. \xBFPerder cambios?")&&this.isFfmpegExpertMode.set(!1)}else this.ffmpegParamsStr=JSON.stringify(this.syncFfmpegFromSimple(),null,2),this.isFfmpegExpertMode.set(!0)}toggleExpertMode(){if(this.isExpertMode())try{this.outputs.set(JSON.parse(this.outputsStr)),this.isExpertMode.set(!1)}catch{confirm("JSON de salidas inv\xE1lido. \xBFPerder cambios?")&&this.isExpertMode.set(!1)}else this.outputsStr=JSON.stringify(this.outputs(),null,2),this.isExpertMode.set(!0)}addOutput(){this.outputs.update(t=>[...t,{type:"hls",path:""}])}onOutputTypeChange(t){t.type==="hls"?(delete t.host,delete t.port):(delete t.path,t.host="",t.port=5e3)}removeOutput(t){this.outputs.update(e=>e.filter((l,o)=>o!==t))}trackByOutput(t,e){return`${t}-${e.type}`}async delete(){await this.dialogService.confirm({title:"Eliminar Canal",message:"\xBFEst\xE1s seguro de que deseas eliminar este canal? Esta acci\xF3n es irreversible.",type:"danger"})&&this.channelService.deleteChannel(this.channel().id).subscribe(()=>this.router.navigate(["/channels"]))}async clearLogs(){let t=this.channel()?.id;if(!t)return;await this.dialogService.confirm({title:"Limpiar Logs",message:"\xBFEst\xE1s seguro de que deseas limpiar todos los logs de este canal?",type:"danger"})&&this.channelService.clearChannelLogs(t).subscribe({next:()=>this.logs.set([]),error:l=>console.error("Error clearing logs:",l)})}start(){let t=this.channel()?.id;t&&(this.pendingAction.set("start"),this.channelService.startChannel(t).subscribe({next:()=>{setTimeout(()=>{this.pendingAction()==="start"&&this.pendingAction.set(null)},5e3)},error:()=>this.pendingAction.set(null)}))}stop(){let t=this.channel()?.id;t&&(this.pendingAction.set("stop"),this.channelService.stopChannel(t).subscribe({next:()=>{setTimeout(()=>{this.pendingAction()==="stop"&&this.pendingAction.set(null)},5e3)},error:()=>this.pendingAction.set(null)}))}restart(){let t=this.channel()?.id;t&&(this.pendingAction.set("restart"),this.channelService.restartChannel(t).subscribe({next:()=>{setTimeout(()=>{this.pendingAction()==="restart"&&this.pendingAction.set(null)},5e3)},error:()=>this.pendingAction.set(null)}))}getPrimaryOutputUrl(){let t=this.channel();if(!t)return"Generando...";if(t.urlOutputs){if(t.urlOutputs.hls&&t.urlOutputs.hls.length>0)return t.urlOutputs.hls[0].fullUrl;if(t.urlOutputs.udp&&t.urlOutputs.udp.length>0)return t.urlOutputs.udp[0].fullUrl;if(t.urlOutputs.dvb&&t.urlOutputs.dvb.length>0)return t.urlOutputs.dvb[0].fullUrl;if(t.urlOutputs.file&&t.urlOutputs.file.length>0)return t.urlOutputs.file[0].fullUrl}if(!t.outputs||t.outputs.length===0)return"Sin salida";let e=t.outputs.find(c=>c.type==="hls")||t.outputs[0],l=t.slug||this.generateSlug(t.name),o=re.apiUrl.replace("/api","");return e.type==="hls"?`${o}/media/${l}/index.m3u8`:e.type==="udp"?e.host&&e.port?`udp://${e.host}:${e.port}`:e.url||"udp://...":"URL no disponible"}getAllOutputUrls(){let t=this.channel();if(!t||!t.urlOutputs)return[];let e=[];return t.urlOutputs.hls&&t.urlOutputs.hls.forEach(l=>{e.push({type:"HLS",fullUrl:l.fullUrl})}),t.urlOutputs.udp&&t.urlOutputs.udp.forEach(l=>{e.push({type:"UDP",fullUrl:l.fullUrl})}),t.urlOutputs.dvb&&t.urlOutputs.dvb.forEach(l=>{e.push({type:"DVB",fullUrl:l.fullUrl})}),t.urlOutputs.file&&t.urlOutputs.file.forEach(l=>{e.push({type:"File",fullUrl:l.fullUrl})}),e}getTypeClass(t){return t.toLowerCase()}async copyToClipboard(t){if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.warn("Clipboard API failed, trying fallback:",e)}try{let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();let l=document.execCommand("copy");return document.body.removeChild(e),l}catch(e){return console.error("Fallback copy failed:",e),!1}}copyUrl(t,e){e.stopPropagation(),!(t==="Generando..."||t==="Sin salida"||t==="URL no disponible")&&this.copyToClipboard(t).then(l=>{if(l){let o=e.currentTarget,c=o.innerHTML;o.innerHTML='<i class="fa-solid fa-check"></i>',setTimeout(()=>{o.innerHTML=c},2e3)}})}getRawJson(){try{let e={};this.isFfmpegExpertMode()?e=JSON.parse(this.ffmpegParamsStr||"{}"):e=this.syncFfmpegFromSimple();let l=[];this.isExpertMode()?l=JSON.parse(this.outputsStr||"[]"):l=this.outputs();let t=this.model,{outputs:o,slug:c,ffmpeg_params:O}=t,E=L(t,["outputs","slug","ffmpeg_params"]),V=I(w({},E),{slug:this.model.slug,ffmpeg_params:e,outputs:l.map(k=>k.type==="udp"?I(w({},k),{port:Number(k.port)}):k)});return JSON.stringify(V,null,2)}catch{return"JSON inv\xE1lido en los editores expertos."}}getStatusText(){switch(this.currentStatus()){case"running":return"En ejecuci\xF3n";case"error":return"Error";case"restarting":return"Reiniciando";default:return"Detenido"}}analyzeAudioTracks(){let t=this.model.input_url?.trim();if(!t){this.errorMessage.set("Por favor, ingresa una URL de entrada primero.");return}this.isAnalyzingAudio.set(!0),this.errorMessage.set(null),this.audioTracks.set([]),this.channelService.analyzeAudio(t).subscribe({next:e=>{if(this.isAnalyzingAudio.set(!1),e.audio_tracks&&e.audio_tracks.tracks)if(this.audioTracks.set(e.audio_tracks.tracks),e.audio_tracks.tracks.length===0)this.errorMessage.set("No se encontraron pistas de audio en el stream.");else{let l=this.ffmpegSimple.audio_stream_index;l&&l.trim()!==""&&(e.audio_tracks.tracks.some(c=>String(c.stream_index)===l.trim())||(this.ffmpegSimple.audio_stream_index=""))}else this.errorMessage.set("No se pudieron obtener las pistas de audio.")},error:e=>{this.isAnalyzingAudio.set(!1),this.errorMessage.set(e.error?.message||"Error al analizar las pistas de audio.")}})}loadGPUs(){this.isLoadingGPUs.set(!0),this.channelService.getGPUs().subscribe({next:t=>{this.isLoadingGPUs.set(!1),t.gpus&&Array.isArray(t.gpus)&&(this.availableGPUs.set(t.gpus),this.onGPUChange())},error:t=>{this.isLoadingGPUs.set(!1),console.error("Error obteniendo GPUs:",t),this.availableGPUs.set([])}})}onGPUChange(){let t=this.selectedGPU(),e=this.ffmpegSimple.video_codec;if(t&&e!=="copy"&&!this.isCodecCompatible()){let l=this.availableCodecs();l.hardware.length>0?this.ffmpegSimple.video_codec=l.hardware[0].value:this.ffmpegSimple.video_codec="libx264"}}getChannelStats(){let t=this.channel()?.id;return t&&this.socketService.allStats().find(o=>{let c=o.channel?.id;return String(c)===String(t)})||null}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-channel-detail"]],decls:60,vars:32,consts:[["noOutputs",""],["noStats",""],["logsRef",""],[1,"detail-container"],[1,"header-section"],[1,"title-area"],[1,"btn-back",3,"click"],[1,"fa-solid","fa-arrow-left"],[1,"text"],[1,"subtitle"],[1,"header-actions"],[1,"btn-primary","main-save",3,"click","disabled"],[1,"fa-solid"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"detail-grid"],[1,"main-form"],[1,"premium-card"],[1,"card-header"],[1,"fa-solid","fa-circle-info"],[1,"card-tabs","basic-tabs"],[3,"click"],[1,"fa-solid","fa-edit"],[3,"active","click",4,"ngIf"],[1,"card-body"],["class","form-grid",4,"ngIf"],["class","stats-view",4,"ngIf"],[1,"premium-card","config-card"],[1,"card-tabs"],[1,"fa-solid","fa-sliders"],[1,"fa-solid","fa-share-nodes"],[1,"fa-solid","fa-bug"],[1,"card-body","tab-content-area"],["class","advanced-section",4,"ngIf"],["class","outputs-section",4,"ngIf"],["class","logs-section",4,"ngIf"],["class","debug-section",4,"ngIf"],[1,"side-panel"],["class","premium-card control-card",4,"ngIf"],[1,"fa-solid","fa-link"],["class","outputs-list-container",4,"ngIf","ngIfElse"],["class","premium-card danger-card",4,"ngIf"],[1,"alert","alert-danger"],[1,"fa-solid","fa-circle-exclamation"],[1,"close-alert",3,"click"],[1,"alert","alert-success"],[1,"fa-solid","fa-circle-check"],[1,"fa-solid","fa-chart-line"],[1,"form-grid"],[1,"form-group"],["type","text","placeholder","Ej: Canal Premium HD",3,"ngModelChange","ngModel","disabled"],["class","error-text",4,"ngIf"],[1,"form-group","full-width"],["type","text","placeholder","udp://@239.1.1.1:5000",3,"ngModelChange","ngModel","disabled"],[1,"form-group","full-width","checkbox-row"],[1,"checkbox-container"],["type","checkbox","id","auto_restart",3,"ngModelChange","ngModel","disabled"],[1,"checkmark"],[1,"error-text"],[1,"stats-view"],[4,"ngIf","ngIfElse"],["class","stats-section",4,"ngIf"],[1,"stats-section"],[1,"stats-section-title"],[1,"fa-solid","fa-video"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"stat-item","full-width"],[1,"fa-solid","fa-microchip"],[1,"stat-value","cpu"],[1,"stat-value","memory"],[1,"stat-value","command"],[1,"fa-solid","fa-network-wired"],[1,"stat-value","net-in"],[1,"stat-value","net-out"],[1,"fa-solid","fa-info-circle"],[1,"no-stats-message"],[1,"fa-solid","fa-terminal"],[1,"advanced-section"],[1,"section-subheader"],[1,"btn-outline-small",3,"click"],["class","ffmpeg-simple-grid",4,"ngIf"],["class","json-editor",3,"has-error",4,"ngIf"],[1,"ffmpeg-simple-grid"],[1,"audio-track-selector"],[3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn-analyze-audio",3,"click","disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],["class","field-hint",4,"ngIf"],["value","copy"],["label","Software",4,"ngIf"],["label","Hardware Acceleration",4,"ngIf"],["value","aac"],["value","ac3"],["value","mp3"],["type","text","placeholder","Original",3,"ngModelChange","ngModel","disabled"],["value","original"],["value","1920x1080"],["value","1280x720"],["value","854x480"],["value","640x360"],["class","form-group",4,"ngIf"],["type","text","placeholder","Ej: 50",3,"ngModelChange","ngModel","disabled"],["value","0"],["value","1"],["value","2"],["value","drop"],["value","cfr"],["value","vfr"],["type","text","placeholder","+genpts+discardcorrupt",3,"ngModelChange","ngModel","disabled"],[1,"options-container","full-width"],[1,"options-header"],["type","button",1,"btn-add-mini",3,"click","disabled"],[1,"fa-solid","fa-plus"],[1,"options-list"],["class","option-item",4,"ngFor","ngForOf"],[3,"value"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"field-hint"],["label","Software"],["value","libx264"],["value","libx265"],["value","mpeg2video"],["label","Hardware Acceleration"],[1,"fa-solid","fa-triangle-exclamation"],["value","ultrafast"],["value","superfast"],["value","veryfast"],["value","faster"],["value","fast"],["value","medium"],["value","slow"],["value","slower"],["value","veryslow"],["value","film"],["value","animation"],["value","grain"],["value","stillimage"],["value","psnr"],["value","ssim"],["value","fastdecode"],["value","zerolatency"],["value","baseline"],["value","main"],["value","high"],[1,"option-item"],["type","text","placeholder","Key (ej: reconnect)",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Value (ej: 1)",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn-remove-mini",3,"click","disabled"],[1,"json-editor"],[1,"json-hint"],["rows","10","placeholder",'{ "video_codec": "libx264", "additional_params": "-tune zerolatency" }',3,"ngModelChange","ngModel","disabled"],[1,"outputs-section"],["class","outputs-list",4,"ngIf"],["class","options-container global-output-options",4,"ngIf"],[1,"outputs-list"],["class","output-item-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-add-item",3,"click","disabled"],[1,"output-item-row"],[1,"row-fields"],["value","hls"],["value","udp"],["type","text","placeholder","IP/Host",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["type","number","placeholder","Puerto",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["type","text","placeholder","Ruta (Opcional)","class","full-row",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"btn-icon-danger",3,"click","disabled"],["type","text","placeholder","IP/Host",3,"ngModelChange","ngModel","disabled"],["type","number","placeholder","Puerto",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Ruta (Opcional)",1,"full-row",3,"ngModelChange","ngModel","disabled"],["rows","8","placeholder",'[ { "type": "hls", "path": "/..." } ]',3,"ngModelChange","ngModel","disabled"],[1,"options-container","global-output-options"],[1,"fa-solid","fa-gears"],["class","options-hint",4,"ngIf"],["type","text","placeholder","Key (ej: movflags)",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Value (ej: faststart)",3,"ngModelChange","ngModel","disabled"],[1,"options-hint"],[1,"logs-section"],[1,"subheader-actions"],[1,"btn-outline-small",3,"click","disabled"],[1,"btn-outline-small","btn-danger-subtle",3,"click","disabled"],[1,"fa-solid","fa-trash-can"],[1,"logs-console"],["class","log-line",3,"class",4,"ngFor","ngForOf"],["class","empty-msg",4,"ngIf"],[1,"log-line"],[1,"time"],[1,"msg"],[1,"empty-msg"],[1,"debug-section"],[1,"raw-json-pre"],[1,"premium-card","control-card"],[1,"fa-solid","fa-play"],[1,"status-indicator"],[1,"dot"],[1,"control-actions"],["class","btn-control start",3,"disabled","click",4,"ngIf"],["class","btn-control stop",3,"disabled","click",4,"ngIf"],[1,"btn-control","restart",3,"click","disabled"],[1,"btn-control","start",3,"click","disabled"],[1,"btn-control","stop",3,"click","disabled"],[1,"outputs-list-container"],["class","output-url-item",4,"ngFor","ngForOf"],[1,"output-url-item"],[1,"output-url-header"],[1,"url-type-badge"],[1,"url-number"],[1,"output-url-content"],[1,"output-url-text"],["title","Copiar URL",1,"mini-copy-btn",3,"click"],[1,"fa-regular","fa-copy"],[1,"no-outputs-message"],[1,"premium-card","danger-card"],[1,"btn-danger-outline",3,"click"],[1,"fa-solid","fa-trash"]],template:function(e,l){if(e&1){let o=v();n(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),C("click",function(){return m(o),g(l.router.navigate(["/channels"]))}),_(4,"i",7),i(),n(5,"div",8)(6,"h1"),a(7),i(),n(8,"p",9),a(9),i()()(),n(10,"div",10)(11,"button",11),C("click",function(){return m(o),g(l.save())}),_(12,"i",12),a(13),i()()(),u(14,be,6,1,"div",13)(15,Me,6,1,"div",14),n(16,"div",15)(17,"div",16)(18,"div",17)(19,"div",18)(20,"h3"),_(21,"i",19),a(22," Informaci\xF3n B\xE1sica"),i()(),n(23,"div",20)(24,"button",21),C("click",function(){return m(o),g(l.basicInfoTab="basic")}),_(25,"i",22),a(26," Configuraci\xF3n "),i(),u(27,Se,3,2,"button",23),i(),n(28,"div",24),u(29,Oe,16,12,"div",25)(30,Ve,4,2,"div",26),i()(),n(31,"div",27)(32,"div",28)(33,"button",21),C("click",function(){return m(o),g(l.activeTab="advanced")}),_(34,"i",29),a(35," Transcodificaci\xF3n "),i(),n(36,"button",21),C("click",function(){return m(o),g(l.activeTab="outputs")}),_(37,"i",30),a(38," Salidas "),i(),u(39,Ae,3,2,"button",23),n(40,"button",21),C("click",function(){return m(o),g(l.activeTab="debug")}),_(41,"i",31),a(42," Super Experto "),i()(),n(43,"div",32),u(44,nt,8,3,"div",33)(45,gt,9,4,"div",34)(46,ft,15,10,"div",35)(47,Ct,6,1,"div",36),i()()(),n(48,"div",37),u(49,xt,16,13,"div",38),n(50,"div",17)(51,"div",18)(52,"h3"),_(53,"i",39),a(54," Salidas"),i()(),n(55,"div",24),u(56,Mt,2,1,"div",40)(57,St,4,0,"ng-template",null,0,J),i()(),u(59,yt,10,0,"div",41),i()()()}if(e&2){let o,c=H(58);s(7),f(l.isNew?"Nuevo Canal":"Editar Canal"),s(2),f(l.isNew?"Crea un nuevo canal para tu servicio OTT":"Modifica la configuraci\xF3n del canal: "+((o=l.channel())==null?null:o.name)),s(2),d("disabled",l.isSaving()||l.currentStatus()==="running"),s(),y("fa-save",!l.isSaving())("fa-spinner",l.isSaving())("fa-spin",l.isSaving()),s(),P(" ",l.isSaving()?"Guardando...":l.isNew?"Crear Canal":l.currentStatus()==="running"?"Bloqueado (En ejecuci\xF3n)":"Guardar Cambios"," "),s(),d("ngIf",l.errorMessage()),s(),d("ngIf",l.successMessage()),s(9),y("active",l.basicInfoTab==="basic"),s(3),d("ngIf",!l.isNew),s(2),d("ngIf",l.basicInfoTab==="basic"),s(),d("ngIf",l.basicInfoTab==="stats"&&!l.isNew),s(3),y("active",l.activeTab==="advanced"),s(3),y("active",l.activeTab==="outputs"),s(3),d("ngIf",!l.isNew),s(),y("active",l.activeTab==="debug"),s(4),d("ngIf",l.activeTab==="advanced"),s(),d("ngIf",l.activeTab==="outputs"),s(),d("ngIf",l.activeTab==="logs"),s(),d("ngIf",l.activeTab==="debug"),s(2),d("ngIf",!l.isNew),s(7),d("ngIf",l.getAllOutputUrls().length>0)("ngIfElse",c),s(3),d("ngIf",!l.isNew)}},dependencies:[ie,$,ee,_e,ge,ue,se,pe,le,me,ce,de,ne,te],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:var(--surface);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--text-muted);transition:all .2s}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{color:var(--accent);border-color:var(--accent)}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.25rem}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.95rem}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary.main-save[_ngcontent-%COMP%]{padding:.75rem 2rem;font-weight:700;font-size:1rem;border-radius:12px;background:#475569;color:#fff;display:flex;align-items:center;gap:.75rem;transition:all .2s}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary.main-save[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e293b;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary.main-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem;align-items:start}.premium-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:16px;border:1px solid var(--border);box-shadow:var(--shadow-sm);overflow:hidden;margin-bottom:1.5rem}.premium-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1.25rem 1.75rem;border-bottom:1px solid var(--border);background:#f8fafc80}.premium-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;display:flex;align-items:center;gap:.75rem;color:#1e293b}.premium-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent);font-size:.9rem}.premium-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.75rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#475569}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.85rem 1.25rem;border:1px solid #e2e8f0;border-radius:12px;background:#f8fafc;font-size:.95rem;transition:all .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:var(--accent);outline:none;background:#fff;box-shadow:0 0 0 3px #6366f11a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.checkbox-row[_ngcontent-%COMP%]{margin-top:.5rem}.checkbox-row[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:600;font-size:.9rem;color:#1e293b;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox-row[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]{display:flex;background:#f1f5f9;padding:.5rem;gap:.5rem}.config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.75rem;border-radius:10px;background:transparent;font-weight:600;font-size:.9rem;color:#64748b;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.5rem}.config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:var(--accent);box-shadow:0 2px 8px #0000000d}.config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#1e293b;background:#ffffff80}.config-card[_ngcontent-%COMP%]   .tab-content-area[_ngcontent-%COMP%]{padding-top:1.5rem}.basic-tabs[_ngcontent-%COMP%]{display:flex;background:#f1f5f9;padding:.5rem;gap:.5rem;border-bottom:1px solid var(--border)}.basic-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.75rem;border-radius:10px;background:transparent;font-weight:600;font-size:.9rem;color:#64748b;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.5rem;border:none;cursor:pointer}.basic-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:var(--accent);box-shadow:0 2px 8px #0000000d}.basic-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#1e293b;background:#ffffff80}.stats-view[_ngcontent-%COMP%]{padding-top:1rem}.stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.stats-section-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1e293b;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem;padding-bottom:.75rem;border-bottom:2px solid #e2e8f0}.stats-section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.stats-grid[_ngcontent-%COMP%]   .stat-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1e293b}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.cpu[_ngcontent-%COMP%]{color:#6366f1}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.memory[_ngcontent-%COMP%]{color:#f59e0b}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.net-in[_ngcontent-%COMP%]{color:#22c55e}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.net-out[_ngcontent-%COMP%]{color:#3b82f6}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.running[_ngcontent-%COMP%]{color:#22c55e}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.stopped[_ngcontent-%COMP%]{color:#64748b}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.restarting[_ngcontent-%COMP%]{color:#f59e0b}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.error[_ngcontent-%COMP%]{color:#ef4444}.stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.command[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.8rem;background:#f8fafc;padding:.5rem;border-radius:6px;border:1px solid #e2e8f0;word-break:break-all;font-weight:400;color:#475569}.no-stats-message[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#94a3b8}.no-stats-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#cbd5e1;display:block}.no-stats-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:.5rem;color:#64748b}.no-stats-message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem;color:#94a3b8}.section-subheader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:1px dashed var(--border)}.section-subheader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem;font-weight:500}.section-subheader[_ngcontent-%COMP%]   .subheader-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.ffmpeg-simple-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}.outputs-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.output-item-row[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0}.output-item-row[_ngcontent-%COMP%]   .row-fields[_ngcontent-%COMP%]{flex:1;display:flex;gap:.75rem}.output-item-row[_ngcontent-%COMP%]   .row-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .output-item-row[_ngcontent-%COMP%]   .row-fields[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.6rem .85rem;font-size:.9rem;border-radius:8px}.output-item-row[_ngcontent-%COMP%]   .row-fields[_ngcontent-%COMP%]   .full-row[_ngcontent-%COMP%]{flex:1}.output-item-row[_ngcontent-%COMP%]   .btn-icon-danger[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#fef2f2;color:#ef4444;font-weight:700}.output-item-row[_ngcontent-%COMP%]   .btn-icon-danger[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.btn-add-item[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px dashed #e2e8f0;border-radius:12px;background:transparent;color:#64748b;font-weight:600;transition:all .2s}.btn-add-item[_ngcontent-%COMP%]:hover{border-color:var(--accent);color:var(--accent);background:#6366f10d}.json-editor[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .raw-json-pre[_ngcontent-%COMP%]{width:100%;background:#0f172a;color:#38bdf8;font-family:JetBrains Mono,monospace;padding:1rem;border-radius:12px;resize:vertical;border:1px solid #334155;font-size:.85rem;line-height:1.5;margin:0}.raw-json-pre[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;white-space:pre-wrap;word-break:break-all}.json-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin-bottom:.5rem;font-style:italic}.outputs-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.output-url-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem;transition:all .2s}.output-url-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.output-url-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.url-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:6px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.url-type-badge.hls[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.url-type-badge.udp[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.url-type-badge.dvb[_ngcontent-%COMP%]{background:#e9d5ff;color:#6b21a8}.url-type-badge.file[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.url-number[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);font-weight:600}.output-url-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.output-url-text[_ngcontent-%COMP%]{flex:1;font-family:JetBrains Mono,monospace;font-size:.85rem;color:#1e293b;background:#fff;padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;word-break:break-all;line-height:1.5}.mini-copy-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;padding:.5rem .75rem;border-radius:8px;color:#64748b;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.mini-copy-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;color:#1e293b}.no-outputs-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem;background:#f8fafc;border:1px dashed #e2e8f0;border-radius:12px;color:var(--text-muted);font-size:.9rem}.no-outputs-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8}.options-container[_ngcontent-%COMP%]{background:#f8fafc;padding:1rem;border-radius:12px;border:1px solid #e2e8f0;margin-top:.5rem}.options-container[_ngcontent-%COMP%]   .options-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.options-container[_ngcontent-%COMP%]   .options-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#475569}.options-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.options-container[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.options-container[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.5rem .75rem;font-size:.85rem}.options-container[_ngcontent-%COMP%]   .btn-add-mini[_ngcontent-%COMP%]{font-size:.75rem;padding:.35rem .75rem;background:#f1f5f9;color:#475569;font-weight:600;border:1px solid #cbd5e1}.options-container[_ngcontent-%COMP%]   .btn-add-mini[_ngcontent-%COMP%]:hover{background:#e2e8f0}.options-container[_ngcontent-%COMP%]   .btn-remove-mini[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background:#fee2e2;color:#ef4444;display:flex;align-items:center;justify-content:center;font-size:1rem;font-weight:700}.options-container[_ngcontent-%COMP%]   .btn-remove-mini[_ngcontent-%COMP%]:hover{background:#fecaca}.dark[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .btn-add-mini[_ngcontent-%COMP%]{background:#374151;color:#fff;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .btn-remove-mini[_ngcontent-%COMP%]{background:#450a0a;color:#f87171}.danger-card[_ngcontent-%COMP%]{border-color:#fecaca}.danger-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#fef2f2}.danger-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#991b1b}.danger-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc2626}.danger-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#991b1b;margin-bottom:1.25rem}.danger-card[_ngcontent-%COMP%]   .btn-danger-outline[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff;color:#dc2626;border:1px solid #dc2626;border-radius:10px;font-weight:700;display:flex;align-items:center;justify-content:center;gap:.5rem}.danger-card[_ngcontent-%COMP%]   .btn-danger-outline[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.control-card[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem;font-weight:700;padding:.75rem 1rem;background:#f1f5f9;border-radius:12px}.control-card[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#94a3b8}.control-card[_ngcontent-%COMP%]   .status-indicator.running[_ngcontent-%COMP%]{background:#ecfdf5;color:#059669}.control-card[_ngcontent-%COMP%]   .status-indicator.running[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b981;animation:_ngcontent-%COMP%_pulse 2s infinite}.control-card[_ngcontent-%COMP%]   .status-indicator.error[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.control-card[_ngcontent-%COMP%]   .status-indicator.error[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#ef4444;box-shadow:0 0 8px #ef4444}.control-card[_ngcontent-%COMP%]   .status-indicator.restarting[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.control-card[_ngcontent-%COMP%]   .status-indicator.restarting[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#f59e0b;box-shadow:0 0 8px #f59e0b;animation:_ngcontent-%COMP%_pulse 2s infinite}.control-card[_ngcontent-%COMP%]   .control-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.75rem}.control-card[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{padding:.75rem;border-radius:10px;font-weight:700;display:flex;align-items:center;justify-content:center;gap:.6rem;transition:all .2s}.control-card[_ngcontent-%COMP%]   .btn-control.start[_ngcontent-%COMP%]{background:#10b981;color:#fff}.control-card[_ngcontent-%COMP%]   .btn-control.start[_ngcontent-%COMP%]:hover{background:#059669}.control-card[_ngcontent-%COMP%]   .btn-control.stop[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.control-card[_ngcontent-%COMP%]   .btn-control.stop[_ngcontent-%COMP%]:hover{background:#dc2626}.control-card[_ngcontent-%COMP%]   .btn-control.restart[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.control-card[_ngcontent-%COMP%]   .btn-control.restart[_ngcontent-%COMP%]:hover{background:#4f46e5}.control-card[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.95);opacity:.8}50%{transform:scale(1.05);opacity:1}to{transform:scale(.95);opacity:.8}}.logs-console[_ngcontent-%COMP%]{background:#0f172a;padding:1rem;border-radius:12px;height:350px;overflow-y:auto;font-family:JetBrains Mono,monospace;font-size:.8rem}.logs-console[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{margin-bottom:.25rem}.logs-console[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#64748b;margin-right:.75rem}.logs-console[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#e2e8f0}.logs-console[_ngcontent-%COMP%]   .log-line.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#f87171}.logs-console[_ngcontent-%COMP%]   .log-line.warning[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#fbbf24}.logs-console[_ngcontent-%COMP%]   .empty-msg[_ngcontent-%COMP%]{color:#475569;text-align:center;margin-top:2rem;font-style:italic}.btn-outline-small[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;padding:.4rem .85rem;font-size:.75rem;font-weight:700;border-radius:8px;color:#64748b;display:flex;align-items:center;gap:.5rem}.btn-outline-small[_ngcontent-%COMP%]:hover{border-color:var(--accent);color:var(--accent)}.btn-outline-small.btn-danger-subtle[_ngcontent-%COMP%]:hover{border-color:#ef4444;color:#ef4444;background:#fef2f2}.btn-outline-small[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.dark[_ngcontent-%COMP%]   .premium-card[_ngcontent-%COMP%]{background:#111827;border-color:#1f2937}.dark[_ngcontent-%COMP%]   .premium-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#1f293780}.dark[_ngcontent-%COMP%]   .premium-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#94a3b8}.dark[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#fff}.dark[_ngcontent-%COMP%]   .output-url-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .output-url-item[_ngcontent-%COMP%]:hover{background:#374151}.dark[_ngcontent-%COMP%]   .output-url-text[_ngcontent-%COMP%]{background:#0f172a;color:#e2e8f0;border-color:#374151}.dark[_ngcontent-%COMP%]   .mini-copy-btn[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#94a3b8}.dark[_ngcontent-%COMP%]   .mini-copy-btn[_ngcontent-%COMP%]:hover{background:#374151;color:#fff}.dark[_ngcontent-%COMP%]   .no-outputs-message[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#94a3b8}.dark[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]{background:#1f2937}.dark[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .card-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#374151;color:#fff}.dark[_ngcontent-%COMP%]   .basic-tabs[_ngcontent-%COMP%]{background:#1f2937}.dark[_ngcontent-%COMP%]   .basic-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#374151;color:#fff}.dark[_ngcontent-%COMP%]   .output-item-row[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .stats-section-title[_ngcontent-%COMP%]{color:#f3f4f6;border-bottom-color:#374151}.dark[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#e2e8f0}.dark[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.command[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#94a3b8}.dark[_ngcontent-%COMP%]   .no-stats-message[_ngcontent-%COMP%]{color:#94a3b8}.has-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .has-error[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .has-error[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-color:#ef4444!important;background:#fef2f2!important}.has-error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ef4444!important}.has-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;font-weight:600;margin-top:.25rem;display:block}.audio-track-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.audio-track-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1}.audio-track-selector[_ngcontent-%COMP%]   .btn-analyze-audio[_ngcontent-%COMP%]{padding:.6rem 1rem;background:#6366f1;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.85rem;display:flex;align-items:center;justify-content:center;gap:.5rem;cursor:pointer;transition:all .2s;white-space:nowrap}.audio-track-selector[_ngcontent-%COMP%]   .btn-analyze-audio[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1em;text-align:center;display:inline-flex;align-items:center;justify-content:center}.audio-track-selector[_ngcontent-%COMP%]   .btn-analyze-audio[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e5;transform:translateY(-1px)}.audio-track-selector[_ngcontent-%COMP%]   .btn-analyze-audio[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.field-hint[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-size:.75rem;color:#64748b;font-style:italic}.alert[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:12px;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem;font-weight:600;position:relative;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.alert.alert-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.alert.alert-success[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a;border:1px solid #bbf7d0}.alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]{position:absolute;right:1rem;background:transparent;border:none;font-size:1.25rem;color:inherit;cursor:pointer;opacity:.5}.alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-10px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};export{he as ChannelDetailComponent};
