import{j as ee,k as te}from"./chunk-7RZWTPM2.js";import{a as A}from"./chunk-CQQZDJZ5.js";import{b as ne,c as oe,d as ie,e as re,f as ae,g as le,l as ce,m as se}from"./chunk-OC3NIF5T.js";import{$ as h,Ba as L,C as l,Ca as w,Da as X,Ea as Z,F as f,Fa as $,G as v,Ha as y,K as g,O as d,P as i,Q as r,R as m,S as I,T as p,U as u,X as E,Y as D,Z as c,_ as b,aa as q,da as R,ea as H,fa as Y,m as W,q as O,qa as G,r as _,ra as x,s as C,va as M,w as S,wa as K,ya as J,za as Q}from"./chunk-YAHRTPNZ.js";var de=(t,o)=>{let n=O(y).getToken();if(n){let a=t.clone({setHeaders:{Authorization:`Bearer ${n}`}});return o(a)}return o(t)};var P=class t{THEME_KEY="atlas-theme";isDarkMode=S(this.getInitialTheme());constructor(){this.applyTheme(this.isDarkMode())}toggleTheme(){this.isDarkMode.update(o=>!o),this.applyTheme(this.isDarkMode()),localStorage.setItem(this.THEME_KEY,this.isDarkMode()?"dark":"light")}applyTheme(o){o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}getInitialTheme(){let o=localStorage.getItem(this.THEME_KEY);return o?o==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(e){return new(e||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};function _e(t,o){if(t&1&&(i(0,"div",13),c(1),r()),t&2){let e=u();l(),h(" ",e.errorMessage()," ")}}var U=class t{constructor(o,e,n){this.authService=o;this.themeService=e;this.router=n}username="";password="";isLoading=S(!1);errorMessage=S("");onSubmit(){!this.username||!this.password||(this.isLoading.set(!0),this.errorMessage.set(""),this.authService.login({username:this.username,password:this.password}).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:o=>{this.isLoading.set(!1),this.errorMessage.set(o.error?.message||"Error al iniciar sesi\xF3n. Int\xE9ntalo de nuevo.")}}))}static \u0275fac=function(e){return new(e||t)(f(y),f(P),f(w))};static \u0275cmp=v({type:t,selectors:[["app-login"]],decls:26,vars:7,consts:[[1,"login-container"],[1,"login-card","glass"],[1,"logo"],[1,"atlas-text"],[1,"media-text"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","atlas","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary",3,"disabled"],["class","error-msg",4,"ngIf"],[1,"theme-toggle"],[1,"btn-ghost",3,"click"],[1,"error-msg"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),c(4,"ATLAS"),r(),i(5,"span",4),c(6,"MEDIA SERVER"),r()(),i(7,"h2"),c(8,"Bienvenido"),r(),i(9,"p"),c(10,"Ingresa tus credenciales para continuar"),r(),i(11,"form",5),p("ngSubmit",function(){return n.onSubmit()}),i(12,"div",6)(13,"label"),c(14,"Usuario"),r(),i(15,"input",7),Y("ngModelChange",function(s){return H(n.username,s)||(n.username=s),s}),r()(),i(16,"div",6)(17,"label"),c(18,"Contrase\xF1a"),r(),i(19,"input",8),Y("ngModelChange",function(s){return H(n.password,s)||(n.password=s),s}),r()(),i(20,"button",9),c(21),r(),g(22,_e,2,1,"div",10),r(),i(23,"div",11)(24,"button",12),p("click",function(){return n.themeService.toggleTheme()}),c(25),r()()()()),e&2&&(l(15),R("ngModel",n.username),l(4),R("ngModel",n.password),l(),d("disabled",n.isLoading()),l(),h(" ",n.isLoading()?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "),l(),d("ngIf",n.errorMessage()),l(3),q(" ",n.themeService.isDarkMode()?"\u{1F319}":"\u2600\uFE0F"," Modo ",n.themeService.isDarkMode()?"Oscuro":"Claro"," "))},dependencies:[M,x,se,le,ne,oe,ie,ce,ae,re],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top right,var(--primary),transparent 40%),radial-gradient(circle at bottom left,var(--info),transparent 40%)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2.5rem;border-radius:24px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.logo[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;flex-direction:column;line-height:1}.atlas-text[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;letter-spacing:-1px;background:linear-gradient(to right,var(--primary),var(--info));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.media-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;letter-spacing:4px;margin-top:.5rem}h2[_ngcontent-%COMP%]{margin-bottom:.5rem}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:.9rem}.form-group[_ngcontent-%COMP%]{text-align:left;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border-radius:12px;border:1px solid var(--border);background:var(--surface);color:var(--text);font-size:1rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px #6366f11a}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;font-weight:600;margin-top:1rem;font-size:1rem}.error-msg[_ngcontent-%COMP%]{margin-top:1rem;color:var(--danger);font-size:.85rem;background:#ef44441a;padding:.75rem;border-radius:8px}.theme-toggle[_ngcontent-%COMP%]{margin-top:2rem}.theme-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:var(--text-muted);font-size:.85rem}.theme-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--text)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function ve(t,o){if(t&1){let e=I();i(0,"div",1),p("click",function(){_(e);let a=u();return C(a.dialog.close(!1))}),i(1,"div",2),p("click",function(a){return _(e),C(a.stopPropagation())}),i(2,"div",3)(3,"h3"),c(4),r()(),i(5,"div",4)(6,"p"),c(7),r()(),i(8,"div",5)(9,"button",6),p("click",function(){_(e);let a=u();return C(a.dialog.close(!1))}),c(10),r(),i(11,"button",7),p("click",function(){_(e);let a=u();return C(a.dialog.close(!0))}),c(12),r()()()()}if(t&2){let e=o.ngIf;l(4),b(e.config.title),l(3),b(e.config.message),l(3),h(" ",e.config.cancelText," "),l(),D("btn-"+e.config.type),l(),h(" ",e.config.confirmText," ")}}var j=class t{constructor(o){this.dialog=o}static \u0275fac=function(e){return new(e||t)(f(A))};static \u0275cmp=v({type:t,selectors:[["app-confirm-dialog"]],decls:1,vars:1,consts:[["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-box","glass",3,"click"],[1,"dialog-header"],[1,"dialog-body"],[1,"dialog-footer"],[1,"btn-cancel",3,"click"],[3,"click"]],template:function(e,n){e&1&&g(0,ve,13,6,"div",0),e&2&&d("ngIf",n.dialog.state())},dependencies:[M,x],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.dialog-box[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:2rem;border-radius:20px;display:flex;flex-direction:column;gap:1.5rem;box-shadow:0 20px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);background:var(--surface);border:1px solid var(--border)}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:var(--text);display:flex;align-items:center;gap:.75rem}.dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);line-height:1.5;font-size:.9rem}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:.5rem;padding-top:1rem;border-top:1px solid var(--border)}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;border:none}.btn-cancel[_ngcontent-%COMP%]{background:var(--surface);color:var(--text-muted);border:1px solid var(--border)}.btn-cancel[_ngcontent-%COMP%]:hover{background:var(--border);color:var(--text)}.btn-primary[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px #6366f14d}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 12px #ef44444d}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d97706;transform:translateY(-1px);box-shadow:0 4px 12px #f59e0b4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dark[_ngcontent-%COMP%]   .dialog-box[_ngcontent-%COMP%]{background:#111827;border-color:#1f2937}"]})};function he(t,o){if(t&1&&(i(0,"p",13),c(1," URLs de salida disponibles para "),i(2,"strong"),c(3),r(),c(4,": "),r()),t&2){let e=u().ngIf;l(3),b(e.config.channelName)}}function xe(t,o){t&1&&(i(0,"p",13),c(1," URLs de salida disponibles: "),r())}function Me(t,o){if(t&1){let e=I();i(0,"div",14)(1,"div",15)(2,"span",16),c(3),r(),i(4,"span",17),c(5),r()(),i(6,"div",18)(7,"code",19),c(8),r(),i(9,"button",20),p("click",function(a){let s=_(e).$implicit,k=u(2);return C(k.copyUrl(s.fullUrl,a))}),m(10,"i",21),r()()()}if(t&2){let e=o.$implicit,n=o.index,a=u(2);l(2),D(a.getTypeClass(e.type)),l(),b(e.type),l(2),h("#",n+1),l(3),b(e.fullUrl)}}function ye(t,o){if(t&1){let e=I();i(0,"div",1),p("click",function(){_(e);let a=u();return C(a.dialog.closeUrlsDialog())}),i(1,"div",2),p("click",function(a){return _(e),C(a.stopPropagation())}),i(2,"div",3)(3,"h3"),m(4,"i",4),c(5),r()(),i(6,"div",5),g(7,he,5,1,"p",6)(8,xe,2,0,"p",6),i(9,"div",7),g(10,Me,11,5,"div",8),r()(),i(11,"div",9)(12,"button",10),p("click",function(){let a=_(e).ngIf,s=u();return C(s.copyAllUrls(a.config.urls))}),m(13,"i",11),c(14," Copiar todas las URLs "),r(),i(15,"button",12),p("click",function(){_(e);let a=u();return C(a.dialog.closeUrlsDialog())}),c(16," Cerrar "),r()()()()}if(t&2){let e=o.ngIf;l(5),h(" ",e.config.title),l(2),d("ngIf",e.config.channelName),l(),d("ngIf",!e.config.channelName),l(2),d("ngForOf",e.config.urls)}}var N=class t{constructor(o){this.dialog=o}getTypeClass(o){return o.toLowerCase()}async copyToClipboard(o){if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(o),!0}catch(e){console.warn("Clipboard API failed, trying fallback:",e)}try{let e=document.createElement("textarea");e.value=o,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();let n=document.execCommand("copy");return document.body.removeChild(e),n}catch(e){return console.error("Fallback copy failed:",e),!1}}copyUrl(o,e){e.stopPropagation(),this.copyToClipboard(o).then(n=>{if(n){let a=e.currentTarget,s=a.innerHTML;a.innerHTML='<i class="fa-solid fa-check"></i>',setTimeout(()=>{a.innerHTML=s},2e3)}})}copyAllUrls(o){let e=o.map(n=>n.fullUrl).join(`
`);this.copyToClipboard(e).then(n=>{if(n){let a=document.querySelector(".btn-copy-all");if(a){let s=a.innerHTML;a.innerHTML='<i class="fa-solid fa-check"></i> Copiado!',setTimeout(()=>{a.innerHTML=s},2e3)}}})}static \u0275fac=function(e){return new(e||t)(f(A))};static \u0275cmp=v({type:t,selectors:[["app-urls-dialog"]],decls:1,vars:1,consts:[["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-box","glass",3,"click"],[1,"dialog-header"],[1,"fa-solid","fa-link"],[1,"dialog-body"],["class","dialog-description",4,"ngIf"],[1,"urls-list"],["class","url-item",4,"ngFor","ngForOf"],[1,"dialog-footer"],[1,"btn-copy-all",3,"click"],[1,"fa-solid","fa-copy"],[1,"btn-close",3,"click"],[1,"dialog-description"],[1,"url-item"],[1,"url-header"],[1,"url-type-badge"],[1,"url-number"],[1,"url-content"],[1,"url-text"],["title","Copiar URL",1,"copy-url-btn",3,"click"],[1,"fa-regular","fa-copy"]],template:function(e,n){e&1&&g(0,ye,17,4,"div",0),e&2&&d("ngIf",n.dialog.urlsDialog())},dependencies:[M,G,x],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.dialog-box[_ngcontent-%COMP%]{width:90%;max-width:600px;max-height:80vh;padding:2rem;border-radius:20px;display:flex;flex-direction:column;gap:1.5rem;box-shadow:0 20px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);background:var(--surface);border:1px solid var(--border)}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:var(--text);display:flex;align-items:center;gap:.75rem}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent)}.dialog-body[_ngcontent-%COMP%]{overflow-y:auto;flex:1;min-height:0}.dialog-description[_ngcontent-%COMP%]{margin:0 0 1.25rem;color:var(--text-muted);line-height:1.5;font-size:.9rem}.dialog-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.urls-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.url-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem;transition:all .2s}.url-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.url-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.url-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:6px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.url-type-badge.hls[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.url-type-badge.udp[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.url-type-badge.dvb[_ngcontent-%COMP%]{background:#e9d5ff;color:#6b21a8}.url-type-badge.file[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.url-number[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);font-weight:600}.url-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.url-text[_ngcontent-%COMP%]{flex:1;font-family:JetBrains Mono,monospace;font-size:.85rem;color:#1e293b;background:#fff;padding:.75rem 1rem;border-radius:8px;border:1px solid #e2e8f0;word-break:break-all;line-height:1.5}.copy-url-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;padding:.5rem .75rem;border-radius:8px;color:#64748b;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.copy-url-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;color:#1e293b}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem;padding-top:1rem;border-top:1px solid var(--border)}.btn-copy-all[_ngcontent-%COMP%]{background:#6366f1;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem}.btn-copy-all[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 4px 12px #6366f14d}.btn-close[_ngcontent-%COMP%]{background:var(--surface);color:var(--text-muted);border:1px solid var(--border);padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s}.btn-close[_ngcontent-%COMP%]:hover{background:var(--border);color:var(--text)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dark[_ngcontent-%COMP%]   .dialog-box[_ngcontent-%COMP%]{background:#111827;border-color:#1f2937}.dark[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .url-item[_ngcontent-%COMP%]:hover{background:#374151}.dark[_ngcontent-%COMP%]   .url-text[_ngcontent-%COMP%]{background:#0f172a;color:#e2e8f0;border-color:#374151}.dark[_ngcontent-%COMP%]   .copy-url-btn[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151;color:#94a3b8}.dark[_ngcontent-%COMP%]   .copy-url-btn[_ngcontent-%COMP%]:hover{background:#374151;color:#fff}"]})};function Pe(t,o){t&1&&m(0,"img",40)}function Oe(t,o){t&1&&m(0,"img",41)}function ke(t,o){t&1&&(i(0,"span",42),c(1,"Dashboard"),r())}function we(t,o){t&1&&(i(0,"span",42),c(1,"Canales"),r())}function Se(t,o){t&1&&(i(0,"span",42),c(1,"Usuarios"),r())}function Ie(t,o){t&1&&(i(0,"span",42),c(1,"Stats"),r())}function Te(t,o){t&1&&(i(0,"span"),c(1,"Colapsar"),r())}var V=class t{constructor(o,e,n){this.authService=o;this.themeService=e;this.router=n}isSidebarCollapsed=!1;toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}getPageTitle(){let o=this.router.url;return o.includes("dashboard")?"Dashboard":o.includes("channels/new")?"Nuevo Canal":o.includes("channels/")?"Detalles del Canal":o.includes("channels")?"Canales":o.includes("users")?"Usuarios":o.includes("stats")?"Stats":o.includes("settings")?"Configuraci\xF3n":"Panel de Control"}static \u0275fac=function(e){return new(e||t)(f(y),f(P),f(w))};static \u0275cmp=v({type:t,selectors:[["app-main-layout"]],decls:53,vars:21,consts:[[1,"layout-wrapper"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo"],["src","/atlas_logo.svg","alt","Atlas Logo","class","logo-img logo-full",4,"ngIf"],["src","/atlas_isot.svg","alt","Atlas","class","logo-img logo-icon",4,"ngIf"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-chart-line","icon"],["class","label",4,"ngIf"],["routerLink","/channels","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-satellite-dish","icon"],["routerLink","/users","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-users","icon"],["routerLink","/stats","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-code","icon"],[1,"sidebar-footer"],[1,"collapse-btn",3,"click"],[1,"fa-solid","icon"],[4,"ngIf"],[1,"main-content"],[1,"topbar"],[1,"topbar-left"],[1,"breadcrumbs"],[1,"muted"],[1,"separator"],[1,"current"],[1,"topbar-right"],[1,"icon-btn",3,"click"],[1,"fa-solid"],["title","Cerrar Sesi\xF3n",1,"icon-btn","logout",3,"click"],[1,"fa-solid","fa-power-off"],[1,"user-profile"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"avatar-wrapper"],[1,"avatar"],[1,"chevron"],[1,"content-view"],["src","/atlas_logo.svg","alt","Atlas Logo",1,"logo-img","logo-full"],["src","/atlas_isot.svg","alt","Atlas",1,"logo-img","logo-icon"],[1,"label"]],template:function(e,n){if(e&1&&(i(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),g(4,Pe,1,0,"img",4)(5,Oe,1,0,"img",5),r()(),i(6,"nav",6)(7,"a",7),m(8,"i",8),g(9,ke,2,0,"span",9),r(),i(10,"a",10),m(11,"i",11),g(12,we,2,0,"span",9),r(),i(13,"a",12),m(14,"i",13),g(15,Se,2,0,"span",9),r(),i(16,"a",14),m(17,"i",15),g(18,Ie,2,0,"span",9),r()(),i(19,"div",16)(20,"button",17),p("click",function(){return n.toggleSidebar()}),m(21,"i",18),g(22,Te,2,0,"span",19),r()()(),i(23,"main",20)(24,"header",21)(25,"div",22)(26,"div",23)(27,"span",24),c(28,"Atlas"),r(),i(29,"span",25),c(30,"/"),r(),i(31,"span",26),c(32),r()()(),i(33,"div",27)(34,"button",28),p("click",function(){return n.themeService.toggleTheme()}),m(35,"i",29),r(),i(36,"button",30),p("click",function(){return n.authService.logout()}),m(37,"i",31),r(),i(38,"div",32)(39,"div",33)(40,"span",34),c(41),r(),i(42,"span",35),c(43),r()(),i(44,"div",36)(45,"div",37),c(46),r(),i(47,"span",38),c(48,"\u25BE"),r()()()()(),i(49,"div",39),m(50,"router-outlet"),r()(),m(51,"app-confirm-dialog")(52,"app-urls-dialog"),r()),e&2){let a,s,k;l(),E("collapsed",n.isSidebarCollapsed),l(3),d("ngIf",!n.isSidebarCollapsed),l(),d("ngIf",n.isSidebarCollapsed),l(4),d("ngIf",!n.isSidebarCollapsed),l(3),d("ngIf",!n.isSidebarCollapsed),l(3),d("ngIf",!n.isSidebarCollapsed),l(3),d("ngIf",!n.isSidebarCollapsed),l(3),E("fa-angles-left",!n.isSidebarCollapsed)("fa-angles-right",n.isSidebarCollapsed),l(),d("ngIf",!n.isSidebarCollapsed),l(10),b(n.getPageTitle()),l(3),E("fa-moon",!n.themeService.isDarkMode())("fa-sun",n.themeService.isDarkMode()),l(6),b((a=n.authService.currentUser())==null?null:a.username),l(2),b(((s=n.authService.currentUser())==null?null:s.role)||"Admin"),l(3),b((k=n.authService.currentUser())==null||k.username==null||k.username[0]==null?null:k.username[0].toUpperCase())}},dependencies:[M,x,L,X,Z,j,N],styles:[".layout-wrapper[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:260px;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;transition:width .3s ease;z-index:100}.sidebar.collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;font-weight:700;color:var(--primary);padding-left:.5rem;width:100%}.logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:auto;max-width:100%;transition:opacity .3s ease;object-fit:contain}.logo[_ngcontent-%COMP%]   .logo-img.logo-full[_ngcontent-%COMP%]{height:35px;width:auto;max-width:140px}.logo[_ngcontent-%COMP%]   .logo-img.logo-icon[_ngcontent-%COMP%]{height:35px;width:auto;max-width:50px}.sidebar.collapsed[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding-left:0;justify-content:center}.dark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{filter:brightness(1.3) contrast(1.1)}.collapse-btn[_ngcontent-%COMP%]{background:transparent;color:var(--text-muted);font-size:1rem;display:flex;align-items:center;gap:.5rem}.collapse-btn[_ngcontent-%COMP%]:hover{color:var(--text)}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1.5rem 1rem;display:flex;flex-direction:column;gap:.25rem}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.85rem 1.25rem;color:#64748b;text-decoration:none;border-radius:12px;transition:all .2s ease;font-weight:500;font-size:.95rem}.nav-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;font-size:1.1rem;display:flex;align-items:center;justify-content:center;opacity:.7}.nav-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-item.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#0f172a;font-weight:600}.nav-item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#1e293b;color:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border)}.btn-logout[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.75rem;background:transparent;color:var(--danger);font-weight:500}.btn-logout[_ngcontent-%COMP%]:hover{background:#ef44441a}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:var(--bg)}.topbar[_ngcontent-%COMP%]{height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 2rem;background:var(--surface);border-bottom:1px solid var(--border)}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;font-weight:500}.breadcrumbs[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--text-muted)}.breadcrumbs[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:var(--text);font-weight:600}.breadcrumbs[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#cbd5e1}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:var(--text-muted);border-radius:8px;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:var(--bg);color:var(--text)}.icon-btn.logout[_ngcontent-%COMP%]{color:var(--danger)}.icon-btn.logout[_ngcontent-%COMP%]:hover{background:#ef44441a}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding-left:.5rem;cursor:pointer}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;line-height:1.2}.user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);font-weight:500}.user-profile[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:#ffedd5;color:#ea580c;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem}.user-profile[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.content-view[_ngcontent-%COMP%]{flex:1;padding:2.5rem 3rem;overflow-y:auto;max-width:1600px;width:100%;margin:0 auto}"]})};var pe=(t,o)=>{let e=O(y),n=O(w);return e.isAuthenticated()?!0:(n.navigate(["/auth/login"]),!1)};var ge=[{path:"auth/login",component:U},{path:"",component:V,canActivate:[pe],children:[{path:"dashboard",loadComponent:()=>import("./chunk-5RLO5XRY.js").then(t=>t.DashboardComponent)},{path:"channels",loadComponent:()=>import("./chunk-II4XF774.js").then(t=>t.ChannelListComponent)},{path:"channels/:id",loadComponent:()=>import("./chunk-KFZ5M35X.js").then(t=>t.ChannelDetailComponent)},{path:"users",loadComponent:()=>import("./chunk-ZJWXMSSM.js").then(t=>t.UserListComponent)},{path:"stats",loadComponent:()=>import("./chunk-ICPCC7DC.js").then(t=>t.StatsComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"**",redirectTo:"dashboard"}];var ue={providers:[$(ge),J(Q([de])),te(ee())]};var F=class t{themeService=O(P);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&m(0,"router-outlet")},dependencies:[L],encapsulation:2})};K(F,ue).catch(t=>console.error(t));
